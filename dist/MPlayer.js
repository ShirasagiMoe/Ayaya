(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define("MPlayer",[],n);else if(typeof exports==="object")exports["MPlayer"]=n();else t["MPlayer"]=n()})(window,function(){return function(n){var i={};function s(e){if(i[e]){return i[e].exports}var t=i[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,s);t.l=true;return t.exports}s.m=n;s.c=i;s.d=function(e,t,n){if(!s.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};s.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};s.t=function(t,e){if(e&1)t=s(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);s.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n};s.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};s.d(e,"a",e);return e};s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};s.p="/";return s(s.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var v=n(2);function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var r=function(){function d(e){s(this,d);if(d.created){return d.instance}d.created=true;d.LOGGER_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4};d.LOGGER_TYPE={VIEW:0,CONSOLE:1};this.el=document.getElementById(e||"logger");this.level=d.LOGGER_LEVEL.DEBUG;this.type=d.LOGGER_TYPE.VIEW}i(d,[{key:"debug",value:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}this.log.apply(this,[d.LOGGER_LEVEL.DEBUG].concat(n))}},{key:"info",value:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}this.log.apply(this,[d.LOGGER_LEVEL.INFO].concat(n))}},{key:"warn",value:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}this.log.apply(this,[d.LOGGER_LEVEL.WARN].concat(n))}},{key:"error",value:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}this.log.apply(this,[d.LOGGER_LEVEL.ERROR].concat(n))}},{key:"fatal",value:function e(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++){n[i]=arguments[i]}this.log.apply(this,[d.LOGGER_LEVEL.FATAL].concat(n))}},{key:"log",value:function t(e){if(e<this.level)return;for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++){i[s-1]=arguments[s]}if(this.type==d.LOGGER_TYPE.VIEW){var r="";var a=true;var l=false;var o=undefined;try{for(var u=i[Symbol.iterator](),c;!(a=(c=u.next()).done);a=true){var f=c.value;r+=f+" "}}catch(e){l=true;o=e}finally{try{if(!a&&u.return){u.return()}}finally{if(l){throw o}}}if(r!="")r="["+this.typeToName(this.level)+"] "+r;this.el.appendChild(document.createTextNode(r));this.el.appendChild(document.createElement("br"));this.el.scrollTop=this.el.scrollHeight}else{(0,v.isArray)(i);var t="["+this.typeToName(this.level)+"] -> ";i.forEach(function(e){t+=e+", "});t=t.substring(0,t.length-2);console.log(t)}}},{key:"setLevel",value:function e(t){this.level=t}},{key:"setType",value:function e(t){this.type=t}},{key:"typeToName",value:function e(t){var n=void 0;for(var i in d.LOGGER_LEVEL){if(t==d.LOGGER_LEVEL[i]){n=i;break}}return n}}],[{key:"getLogger",value:function e(t){if(!d.instance){d.instance=new d(t)}return d.instance}}]);return d}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var s=B(i);var r=n(8);var a=B(r);var l=n(9);var o=B(l);var u=n(10);var c=B(u);var f=n(11);var d=B(f);var v=n(12);var h=B(v);var p=n(13);var y=B(p);var m=n(14);var b=B(m);var g=n(15);var w=B(g);var k=n(16);var E=B(k);var S=n(17);var x=B(S);var L=n(18);var M=B(L);var T=n(19);var F=B(T);var P=n(20);var _=B(P);var C=n(21);var A=B(C);var H=n(22);var O=B(H);var R=n(23);var q=B(R);function B(e){return e&&e.__esModule?e:{default:e}}var N={comment:s.default,full:a.default,fullWeb:o.default,fullExit:c.default,loading:q.default,loop:h.default,mute:y.default,play:b.default,pause:w.default,skip:E.default,volume1:x.default,volume2:M.default,decrease:F.default,increase:_.default,setting:A.default,back:O.default};t.default=N},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.uniqueId=o;t.isNumber=u;t.isArray=c;t.formatTime=f;t.seekToSecondsText=d;t.now=v;var s=t.Fullscreen={isFullscreen:function e(){return!!(document.webkitFullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)},requestFullscreen:function e(t){if(t.requestFullscreen)t.requestFullscreen();else if(t.webkitRequestFullScreen)t.webkitRequestFullScreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else if(t.querySelector&&t.querySelector("mplayer-video")&&t.querySelector("mplayer-video").webkitEnterFullScreen)t.querySelector("mplayer-video").webkitEnterFullScreen();else if(t.webkitEnterFullScreen)t.webkitEnterFullScreen()},cancelFullscreen:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;if(t.exitFullscreen)t.exitFullscreen();else if(t.webkitCancelFullScreen)t.webkitCancelFullScreen();else if(t.webkitExitFullscreen)t.webkitExitFullscreen();else if(t.mozCancelFullScreen)t.mozCancelFullScreen();else if(t.msExitFullscreen)t.msExitFullscreen()},fullscreenEnabled:function e(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}};var r=t.requestAnimationFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}).bind(window);var a=t.cancelAnimationFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout).bind(window);var l={};function o(e){l[e]||(l[e]=0);var t=++l[e];return e+t}function u(e){return value-parseFloat(value)+1>=0}function c(e){if((typeof e==="undefined"?"undefined":i(e))==="object"){return Object.prototype.toString.call(e)==="[object Array]"}return e instanceof Array}function f(e){var t=void 0,n=void 0;t=Math.floor(e/60);if(t<10)t="0"+t;n=Math.floor(e%60);if(n<10)n="0"+n;if(isNaN(t)||isNaN(n)){return"--:--"}return t+":"+n}function d(e,t){var n=0;if(e<t){n=parseInt(t-e);return"快进 "+n+" 秒"}else{n=parseInt(e-t);return"快退 "+n+" 秒"}}function v(){if(window.performance&&window.performance.now)return performance.now();return Date.now()}t.default={Fullscreen:s,requestAnimationFrame:r,cancelAnimationFrame:a,formatTime:f,uniqueId:o,isNumber:u,seekToSecondsText:d,now:v}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i={PLAY:"play",PAUSE:"pause",PLAYED:"played",STOP:"stop",LOADING:"loading",LOADED:"loaded",ERROR:"error"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();n(32);var i=n(5);var r=A(i);var a=n(6);var c=A(a);var l=n(3);var f=A(l);var o=n(1);var d=A(o);var v=n(0);var h=A(v);var p=n(24);var y=A(p);var m=n(25);var b=A(m);var g=n(26);var w=A(g);var k=n(27);var E=A(k);var S=n(28);var x=A(S);var L=n(29);var M=A(L);var T=n(30);var F=A(T);var P=n(2);var _=n(31);var C=A(_);function A(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var O=0;var R=h.default.getLogger();var q=function(){function i(e){H(this,i);this.index=O;this.options={};this.options=(0,y.default)(e);R.setType(this.options.loggerType);R.debug("Player initialize.");this.nowPlayer="mplayer-index"+this.index;this.element=this.options.element;this.element.classList.add("player-wrap");this.element.classList.add(this.nowPlayer);this.element.innerHTML=b.default.build(this.index,this.options);this.videoBox=this.element.getElementsByClassName("video-box")[0];this.video=this.element.getElementsByClassName("mplayer-video")[0];if(this.options.video.poster){this.video.poster=this.options.video.poster}this.source2=null;this.nextPlayButtonEle=this.element.querySelector(".button-next");this.muted=false;this.events=new C.default;this.infoPanel=new E.default(this);if(this.options.video.src){this.init(this.video,this.options.type,this.options.video.src)}this.notice=new F.default(this);this.fullScreen=new M.default(this);this.controller=new x.default(this);var t=this;this.menu=new w.default({player:this,menus:[{name:"复制视频网址",class:"copy-el1",func:function e(){}},{name:"循环播放",func:function e(){t.controller._loop()}},{name:"无法播放反馈",func:function e(){window.location.href="http://www.srsg.moe/feedback/player/error_reply?backurl="+window.location.href}},{name:"详细统计信息",func:function e(){t.infoPanel.open()}}]});var n=new r.default(".copy-el1",{text:function e(){return window.location.href}});n.on("success",function(e){t.notice.showAutoHide("复制成功")});n.on("error",function(e){R.error(e)});this.setVolume(this.options.volume);R.debug("Player inited.");O++}s(i,[{key:"init",value:function e(i,t,n){var a=this;this.options.type=this.type=t;var s=i;if(!this.type||this.type==="auto"){if(/.mpd(#|\?|\$)/i.exec(n)){this.type=c.default.NativeDash}else if(/.flv(#|\?|\$)/i.exec(n)){this.type=c.default.NativeFlv}else if(/.m3u8(#|\?|\$)/i.exec(n)){this.type=c.default.NativeHls}else{this.type=c.default.HtmlMediaElement}}R.debug("Player Mode: "+this.type+", Element: ."+this.nowPlayer+", Source: "+n);switch(this.type){case c.default.NativeDash:if(dashjs&&MediaPlayer){MediaPlayer().create().initialize(i,n,false)}break;case c.default.NativeFlv:if(flv&&flv.isSupported()){var r=flv.createPlayer({type:"flv",url:n});r.attachMediaElement(i);r.load()}break;case c.default.NativeHls:if(Hls.isSupported()){var l=new Hls;l.loadSource(n);l.attachMedia(i);a.stats={};a.stats.droppedFrames=0;a.stats.totalFrames=0;var o={url:n,t0:performance.now(),load:[],buffer:[],video:[],level:[],bitrate:[]};l.on(Hls.Events.MANIFEST_PARSED,function(e,t){a.stats={levelNb:t.levels.length,levelParsed:0}});l.on(Hls.Events.BUFFER_CODECS,function(e,t){a.stats.codec=t&&t.video&&t.video.container+';codecs="'+t.video.codec+'"'});l.on(Hls.Events.LEVEL_LOADED,function(e,t){i.currentTime=0;a.events.trigger(f.default.LOADED);var e={type:"level",id:t.level,start:t.details.startSN,end:t.details.endSN,time:t.stats.trequest-o.t0,latency:t.stats.tfirst-t.stats.trequest,load:t.stats.tload-t.stats.tfirst,parsing:t.stats.tparsed-t.stats.tload,duration:t.stats.tload-t.stats.tfirst};var n=t.stats.tparsed-t.stats.tload;if(a.stats.levelParsed){a.sumLevelParsingMs+=n}else{a.sumLevelParsingMs=n}a.stats.levelParsed++;a.stats.levelParsingUs=Math.round(1e3*a.sumLevelParsingMs/a.stats.levelParsed);o.load.push(e)});l.on(Hls.Events.FRAG_BUFFERED,function(e,t){var e={type:t.frag.type+" fragment",id:t.frag.level,id2:t.frag.sn,time:t.stats.trequest-o.t0,latency:t.stats.tfirst-t.stats.trequest,load:t.stats.tload-t.stats.tfirst,parsing:t.stats.tparsed-t.stats.tload,buffer:t.stats.tbuffered-t.stats.tparsed,duration:t.stats.tbuffered-t.stats.tfirst,bw:Math.round(8*t.stats.total/(t.stats.tbuffered-t.stats.trequest)),size:t.stats.total};o.load.push(e);o.bitrate.push({time:performance.now()-o.t0,bitrate:e.bw,duration:t.frag.duration,level:e.id});if(l.bufferTimer===undefined){o.buffer.push({time:0,buffer:0,pos:0})}var n=t.stats.tfirst-t.stats.trequest,i=t.stats.tparsed-t.stats.tload,s=t.stats.tbuffered-t.stats.trequest,r=Math.round(8*t.stats.total/(t.stats.tbuffered-t.stats.tfirst));if(a.stats.fragBuffered){a.stats.fragMinLatency=Math.min(a.stats.fragMinLatency,n);a.stats.fragMaxLatency=Math.max(a.stats.fragMaxLatency,n);a.stats.fragMinProcess=Math.min(a.stats.fragMinProcess,s);a.stats.fragMaxProcess=Math.max(a.stats.fragMaxProcess,s);a.stats.fragMinKbps=Math.min(a.stats.fragMinKbps,r);a.stats.fragMaxKbps=Math.max(a.stats.fragMaxKbps,r);a.stats.autoLevelCappingMin=Math.min(a.stats.autoLevelCappingMin,l.autoLevelCapping);a.stats.autoLevelCappingMax=Math.max(a.stats.autoLevelCappingMax,l.autoLevelCapping);a.stats.fragBuffered++}else{a.stats.fragMinLatency=a.stats.fragMaxLatency=n;a.stats.fragMinProcess=a.stats.fragMaxProcess=s;a.stats.fragMinKbps=a.stats.fragMaxKbps=r;a.stats.fragBuffered=1;a.stats.fragBufferedBytes=0;a.stats.autoLevelCappingMin=a.stats.autoLevelCappingMax=l.autoLevelCapping;a.sumLatency=0;a.sumKbps=0;a.sumProcess=0;a.sumParsing=0}a.stats.fraglastLatency=n;a.sumLatency+=n;a.stats.fragAvgLatency=Math.round(a.sumLatency/a.stats.fragBuffered);a.stats.fragLastProcess=s;a.sumProcess+=s;a.sumParsing+=i;a.stats.fragAvgProcess=Math.round(a.sumProcess/a.stats.fragBuffered);a.stats.fragLastKbps=r;a.sumKbps+=r;a.stats.fragAvgKbps=Math.round(a.sumKbps/a.stats.fragBuffered);a.stats.fragBufferedBytes+=t.stats.total;a.stats.fragparsingKbps=Math.round(8*a.stats.fragBufferedBytes/a.sumParsing);a.stats.fragparsingMs=Math.round(a.sumParsing);a.stats.autoLevelCappingLast=l.autoLevelCapping});l.on(Hls.Events.FRAG_LOADING,function(e,t){a.infoPanel.trigger(a.stats)});l.on(Hls.Events.FRAG_LOAD_PROGRESS,function(e,t){var n=u(s.getVideoPlaybackQuality)===Function&&s.getVideoPlaybackQuality||undefined;if(n&&n.droppedVideoFrames&&n.totalVideoFrames){a.stats.droppedFrames=n.droppedVideoFrames;a.stats.totalFrames=n.totalVideoFrames}else if(s.webkitDroppedFrameCount){a.stats.droppedFrames=s.webkitDroppedFrameCount;a.stats.totalFrames=0}else{a.stats.droppedFrames=0;a.stats.totalFrames=0}})}break;case c.default.HtmlMediaElement:default:i.src=n;break}this.video.currentTime=0}},{key:"play",value:function e(){var t=this;if(this.options.video.src===""){this.pause();console.log("播放器未初始化视频源，请调用方法 switchSource(src) 或在初始化播放器时，传入视频源地址");return}this.controller.button.play.innerHTML=d.default.pause;this.showStats(d.default.play);this.video.play();this.events.trigger(f.default.PLAY);this.panelUpdated=setInterval(function(){t.infoPanel.trigger()},1e3)}},{key:"pause",value:function e(){this.controller.button.play.innerHTML=d.default.play;this.showStats(d.default.pause);this.video.pause();this.events.trigger(f.default.PAUSE);clearInterval(this.panelUpdated)}},{key:"stop",value:function e(){this.controller.button.play.innerHTML=d.default.play;this.controller.resetLoadBar();this.video.pause();this.controller.status=f.default.STOP;this.events.trigger(f.default.STOP);clearInterval(this.panelUpdated)}},{key:"seek",value:function e(t){if(t===undefined||isNaN(t))return this.video.currentTime;R.debug("Seek to "+Math.max(t,0));var n=(0,P.seekToSecondsText)(this.video.currentTime,t);R.debug(n);this.notice.showAutoHide(n);this.video.currentTime=t;this.events.trigger("seek",t);return this}},{key:"toggle",value:function e(){}},{key:"setVolume",value:function e(t){this.volume=t;this.controller.setVolume(this.volume);this.infoPanel.setVolumeText(t);this.events.trigger("volume",t)}},{key:"switchSource",value:function e(t,n){this.notice.showAutoHide("正在切换视频源");this.init(this.video,this.options.type,t);this.events.trigger("switchSource",{type:this.options.type,src:this.options.video.src});this.options.video.src=t}},{key:"playbackRate",value:function e(t){this.video.playbackRate=t;this.controller.settings.playSpeed.querySelector(".text").innerText=t==1?"正常":t;this.events.trigger("playbackRate",t);R.info("setting playback rate "+t)}},{key:"screenFull",value:function e(t){if(t==="screen"){this.fullScreen.screenFull()}else{this.fullScreen.webFull()}}},{key:"showStats",value:function e(t){this.notice.showStats(t)}},{key:"on",value:function e(t,n){this.events.on(t,n,this)}},{key:"off",value:function e(t,n){this.events.off(t,n,this)}},{key:"trigger",value:function e(t){this.events.trigger(t)}},{key:"next",value:function e(){if(this.source2!==null){this.switchSource(this.source2)}}},{key:"setNextVideo",value:function e(t){if(t!==null&&t!==undefined){this.source2=t;this.nextPlayButtonEle.removeClass("hidden")}else{this.source2=null;this.nextPlayButtonEle.addClass("hidden")}}},{key:"setVideoInfo",value:function e(t,n){this.infoPanel.setVideoId(t);this.infoPanel.setSourceHost(n)}},{key:"destroy",value:function e(){this.events.trigger("destroy");this.controller.destroy();this.notice.destroy();clearInterval(this.panelUpdated);this.infoPanel=null;this.fullScreen=null;this.notice=null;this.menu=null;this.element.classList="";this.element.innerHTML="";this.events.destroy();R.debug("player destroy")}}]);return i}();t.default=q},function(i,e,t){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
(function e(t,n){if(true)i.exports=n();else{}})(this,function(){return function(n){var i={};function s(e){if(i[e]){return i[e].exports}var t=i[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,s);t.l=true;return t.exports}s.m=n;s.c=i;s.d=function(e,t,n){if(!s.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};s.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};s.t=function(t,e){if(e&1)t=s(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);s.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n};s.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};s.d(e,"a",e);return e};s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};s.p="";return s(s.s=0)}([function(e,t,n){"use strict";var s=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var i=n(1);var a=f(i);var l=n(3);var o=f(l);var u=n(4);var c=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){h(i,e);function i(e,t){d(this,i);var n=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));n.resolveOptions(t);n.listenClick(e);return n}r(i,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=typeof t.action==="function"?t.action:this.defaultAction;this.target=typeof t.target==="function"?t.target:this.defaultTarget;this.text=typeof t.text==="function"?t.text:this.defaultText;this.container=s(t.container)==="object"?t.container:document.body}},{key:"listenClick",value:function e(t){var n=this;this.listener=(0,c.default)(t,"click",function(e){return n.onClick(e)})}},{key:"onClick",value:function e(t){var n=t.delegateTarget||t.currentTarget;if(this.clipboardAction){this.clipboardAction=null}this.clipboardAction=new a.default({action:this.action(n),target:this.target(n),text:this.text(n),container:this.container,trigger:n,emitter:this})}},{key:"defaultAction",value:function e(t){return y("action",t)}},{key:"defaultTarget",value:function e(t){var n=y("target",t);if(n){return document.querySelector(n)}}},{key:"defaultText",value:function e(t){return y("text",t)}},{key:"destroy",value:function e(){this.listener.destroy();if(this.clipboardAction){this.clipboardAction.destroy();this.clipboardAction=null}}}],[{key:"isSupported",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:["copy","cut"];var n=typeof t==="string"?[t]:t;var i=!!document.queryCommandSupported;n.forEach(function(e){i=i&&!!document.queryCommandSupported(e)});return i}}]);return i}(o.default);function y(e,t){var n="data-clipboard-"+e;if(!t.hasAttribute(n)){return}return t.getAttribute(n)}e.exports=p},function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var r=n(2);var a=l(r);function l(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function t(e){o(this,t);this.resolveOptions(e);this.initSelection()}s(t,[{key:"resolveOptions",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.action=t.action;this.container=t.container;this.emitter=t.emitter;this.target=t.target;this.text=t.text;this.trigger=t.trigger;this.selectedText=""}},{key:"initSelection",value:function e(){if(this.text){this.selectFake()}else if(this.target){this.selectTarget()}}},{key:"selectFake",value:function e(){var t=this;var n=document.documentElement.getAttribute("dir")=="rtl";this.removeFake();this.fakeHandlerCallback=function(){return t.removeFake()};this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||true;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[n?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=this.text;this.container.appendChild(this.fakeElem);this.selectedText=(0,a.default)(this.fakeElem);this.copyText()}},{key:"removeFake",value:function e(){if(this.fakeHandler){this.container.removeEventListener("click",this.fakeHandlerCallback);this.fakeHandler=null;this.fakeHandlerCallback=null}if(this.fakeElem){this.container.removeChild(this.fakeElem);this.fakeElem=null}}},{key:"selectTarget",value:function e(){this.selectedText=(0,a.default)(this.target);this.copyText()}},{key:"copyText",value:function e(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=false}this.handleResult(t)}},{key:"handleResult",value:function e(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function e(){if(this.trigger){this.trigger.focus()}window.getSelection().removeAllRanges()}},{key:"destroy",value:function e(){this.removeFake()}},{key:"action",set:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"copy";this._action=t;if(this._action!=="copy"&&this._action!=="cut"){throw new Error('Invalid "action" value, use either "copy" or "cut"')}},get:function e(){return this._action}},{key:"target",set:function e(t){if(t!==undefined){if(t&&(typeof t==="undefined"?"undefined":i(t))==="object"&&t.nodeType===1){if(this.action==="copy"&&t.hasAttribute("disabled")){throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute')}if(this.action==="cut"&&(t.hasAttribute("readonly")||t.hasAttribute("disabled"))){throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}this._target=t}else{throw new Error('Invalid "target" value, use a valid Element')}}},get:function e(){return this._target}}]);return t}();e.exports=u},function(e,t){function n(e){var t;if(e.nodeName==="SELECT"){e.focus();t=e.value}else if(e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"){var n=e.hasAttribute("readonly");if(!n){e.setAttribute("readonly","")}e.select();e.setSelectionRange(0,e.value.length);if(!n){e.removeAttribute("readonly")}t=e.value}else{if(e.hasAttribute("contenteditable")){e.focus()}var i=window.getSelection();var s=document.createRange();s.selectNodeContents(e);i.removeAllRanges();i.addRange(s);t=i.toString()}return t}e.exports=n},function(e,t){function n(){}n.prototype={on:function(e,t,n){var i=this.e||(this.e={});(i[e]||(i[e]=[])).push({fn:t,ctx:n});return this},once:function(e,t,n){var i=this;function s(){i.off(e,s);t.apply(n,arguments)}s._=t;return this.on(e,s,n)},emit:function(e){var t=[].slice.call(arguments,1);var n=((this.e||(this.e={}))[e]||[]).slice();var i=0;var s=n.length;for(i;i<s;i++){n[i].fn.apply(n[i].ctx,t)}return this},off:function(e,t){var n=this.e||(this.e={});var i=n[e];var s=[];if(i&&t){for(var r=0,a=i.length;r<a;r++){if(i[r].fn!==t&&i[r].fn._!==t)s.push(i[r])}}s.length?n[e]=s:delete n[e];return this}};e.exports=n},function(e,t,n){var i=n(5);var s=n(6);function r(e,t,n){if(!e&&!t&&!n){throw new Error("Missing required arguments")}if(!i.string(t)){throw new TypeError("Second argument must be a String")}if(!i.fn(n)){throw new TypeError("Third argument must be a Function")}if(i.node(e)){return a(e,t,n)}else if(i.nodeList(e)){return l(e,t,n)}else if(i.string(e)){return o(e,t,n)}else{throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}}function a(e,t,n){e.addEventListener(t,n);return{destroy:function(){e.removeEventListener(t,n)}}}function l(e,t,n){Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)});return{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function o(e,t,n){return s(document.body,e,t,n)}e.exports=r},function(e,n){n.node=function(e){return e!==undefined&&e instanceof HTMLElement&&e.nodeType===1};n.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==undefined&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in e&&(e.length===0||n.node(e[0]))};n.string=function(e){return typeof e==="string"||e instanceof String};n.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},function(e,t,n){var s=n(7);function r(e,t,n,i,s){var r=a.apply(this,arguments);e.addEventListener(n,r,s);return{destroy:function(){e.removeEventListener(n,r,s)}}}function i(e,t,n,i,s){if(typeof e.addEventListener==="function"){return r.apply(null,arguments)}if(typeof n==="function"){return r.bind(null,document).apply(null,arguments)}if(typeof e==="string"){e=document.querySelectorAll(e)}return Array.prototype.map.call(e,function(e){return r(e,t,n,i,s)})}function a(t,n,e,i){return function(e){e.delegateTarget=s(e.target,n);if(e.delegateTarget){i.call(t,e)}}}e.exports=i},function(e,t){var n=9;if(typeof Element!=="undefined"&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function s(e,t){while(e&&e.nodeType!==n){if(typeof e.matches==="function"&&e.matches(t)){return e}e=e.parentNode}}e.exports=s}])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i={NativeDash:"dash",NativeHls:"hls",NativeFlv:"flv",HtmlMediaElement:"html5"};t.default=i},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M878.066 125.957H145.9c-28.58 0-51.756 23.171-51.756 51.756v495.133c0 28.58 23.177 51.756 51.756 51.756h97.547v133.71c0 10.434 4.317 24.496 18.623 33.004 19.008 11.305 40.423 1.048 45.33-3.806l148.443-162.906h422.222c28.611 0 51.788-23.177 51.788-51.757V177.714c.001-28.58-23.176-51.756-51.787-51.756zm-13.588 535.705H421.404l-116.98 131.96v-131.96H158.66V186.968h705.82v474.694zM252.095 448.088H761.9c14.98 0 27.082-16.046 27.082-30.963 0-14.975-12.101-30.993-27.082-30.993H252.095c-14.918 0-27.055 16.014-27.055 30.993 0 14.919 12.135 30.963 27.055 30.963zm.975-125.875h509.81c14.975 0 27.081-16.05 27.081-30.999 0-14.946-12.106-30.018-27.082-30.018H253.07c-14.914 0-27.047 15.071-27.047 30.018 0 14.952 12.135 30.999 27.048 30.999zM604.356 511.03H253.07c-14.915 0-27.048 18-27.048 32.95 0 14.945 13.11 29.036 28.03 29.036h352.26c14.981 0 25.129-15.066 25.129-30.011-.002-14.952-12.108-31.975-27.084-31.975z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M213.333 896H42.667C17.067 896 0 878.933 0 853.333V682.667C0 657.067 17.067 640 42.667 640s42.666 17.067 42.666 42.667v128h128c25.6 0 42.667 17.066 42.667 42.666S238.933 896 213.333 896zM981.333 896H810.667c-25.6 0-42.667-17.067-42.667-42.667s17.067-42.666 42.667-42.666h128v-128c0-25.6 17.066-42.667 42.666-42.667S1024 657.067 1024 682.667v170.666c0 25.6-17.067 42.667-42.667 42.667zM981.333 384c-25.6 0-42.666-17.067-42.666-42.667v-128h-128c-25.6 0-42.667-17.066-42.667-42.666S785.067 128 810.667 128h170.666c25.6 0 42.667 17.067 42.667 42.667v170.666c0 25.6-17.067 42.667-42.667 42.667zM42.667 384C17.067 384 0 366.933 0 341.333V170.667C0 145.067 17.067 128 42.667 128h170.666c25.6 0 42.667 17.067 42.667 42.667s-17.067 42.666-42.667 42.666h-128v128c0 25.6-17.066 42.667-42.666 42.667z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M798.878 780.17H218.663c-43.717 0-79.28-35.604-79.28-79.281V323.11c0-43.638 35.563-79.28 79.28-79.28h580.215c43.716 0 79.28 35.603 79.28 79.28V700.89c0 43.638-35.524 79.28-79.28 79.28zM218.663 323.11V700.89h580.293l-.078-377.778H218.663zM79.281 925.696h190.464c21.898 0 39.621-17.723 39.621-39.66 0-21.898-17.723-39.621-39.62-39.621H79.28v-185.66c0-21.897-17.723-39.66-39.62-39.66S0 638.897 0 660.755v185.66c0 43.677 35.564 79.281 79.281 79.281zM984.34 621.174c-21.898 0-39.621 17.723-39.621 39.621v185.62H754.294c-21.937 0-39.66 17.723-39.66 39.62 0 21.938 17.723 39.661 39.66 39.661H944.72c43.717 0 79.281-35.564 79.281-79.281v-185.62c0-21.858-17.723-39.62-39.66-39.62zM0 177.585v185.66c0 21.858 17.723 39.62 39.62 39.62s39.622-17.762 39.622-39.62v-185.66h190.464c21.898 0 39.62-17.723 39.62-39.62s-17.722-39.622-39.62-39.622H79.28C35.564 98.304 0 133.908 0 177.585zm1024 185.62v-185.62c0-43.677-35.525-79.281-79.281-79.281H754.294c-21.937 0-39.66 17.723-39.66 39.62s17.723 39.622 39.66 39.622H944.72v185.62c0 21.858 17.723 39.581 39.62 39.581 21.938.079 39.661-17.684 39.661-39.542z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M960 384H789.333c-25.6 0-42.666-17.067-42.666-42.667V170.667c0-25.6 17.066-42.667 42.666-42.667S832 145.067 832 170.667v128h128c25.6 0 42.667 17.066 42.667 42.666S985.6 384 960 384zM234.667 384H64c-25.6 0-42.667-17.067-42.667-42.667S38.4 298.667 64 298.667h128v-128c0-25.6 17.067-42.667 42.667-42.667s42.666 17.067 42.666 42.667v170.666c0 25.6-17.066 42.667-42.666 42.667zM234.667 896c-25.6 0-42.667-17.067-42.667-42.667v-128H64c-25.6 0-42.667-17.066-42.667-42.666S38.4 640 64 640h170.667c25.6 0 42.666 17.067 42.666 42.667v170.666c0 25.6-17.066 42.667-42.666 42.667zM789.333 896c-25.6 0-42.666-17.067-42.666-42.667V682.667c0-25.6 17.066-42.667 42.666-42.667H960c25.6 0 42.667 17.067 42.667 42.667S985.6 725.333 960 725.333H832v128c0 25.6-17.067 42.667-42.667 42.667z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M923.852 338.007c-20.013-47.313-47.718-90.324-82.45-128.128 6.876-13.544 10.755-28.866 10.755-45.096 0-55.1-44.668-99.767-99.768-99.767-29.051 0-55.198 12.42-73.431 32.237-53.058-21.39-109.184-32.237-166.959-32.237-60.334 0-118.873 11.821-173.988 35.134-53.233 22.514-101.031 54.742-142.074 95.784-41.046 41.044-73.273 88.845-95.786 142.074-23.313 55.119-35.137 113.658-35.137 173.993 0 60.333 11.824 118.873 35.134 173.99 22.514 53.23 54.742 101.03 95.786 142.073 41.042 41.044 88.841 73.271 142.074 95.786 55.116 23.312 113.655 35.134 173.99 35.134S630.87 947.162 685.99 923.85c53.23-22.515 101.03-54.743 142.073-95.786 41.046-41.043 73.273-88.843 95.786-142.073 23.31-55.117 35.134-113.657 35.134-173.99.003-60.335-11.822-118.873-35.131-173.994zm-35.96 332.776c-20.546 48.576-49.961 92.204-87.43 129.677-37.474 37.47-81.1 66.888-129.68 87.432-50.28 21.263-103.703 32.048-158.784 32.048-55.077 0-108.5-10.783-158.785-32.048-48.575-20.546-92.204-49.962-129.676-87.432-37.473-37.473-66.889-81.101-87.43-129.677-21.268-50.28-32.052-103.704-32.052-158.784s10.784-108.503 32.051-158.783c20.542-48.576 49.96-92.206 87.43-129.677 37.473-37.47 81.102-66.887 129.677-87.433 50.285-21.266 103.708-32.05 158.785-32.05 50.6 0 99.798 9.107 146.448 27.075-3.768 10.514-5.825 21.842-5.825 33.653 0 55.1 44.668 99.767 99.767 99.767 24.574 0 47.066-8.89 64.453-23.62 29.738 33.371 53.604 71.037 71.05 112.285 21.267 50.28 32.05 103.702 32.05 158.783s-10.782 108.504-32.05 158.784z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M848.589 427.434c-37.972-152.983-176.097-266.828-340.634-266.828-121.82 0-233.176 61.668-297.917 164.97-8.095 12.951-4.203 30.037 8.754 38.126 12.957 8.17 30.037 4.204 38.167-8.753 54.59-87.075 148.434-139.015 251.032-139.015 133.61 0 245.584 89.604 282.238 211.5H687.863l137.185 169.132 137.23-169.132h-113.69zm-43.341 232.864c-12.917-8.13-30.037-4.164-38.167 8.753-54.59 87.076-148.398 139.015-250.996 139.015-133.686 0-245.624-89.64-282.273-211.54h102.366l-137.23-169.092L61.721 596.566H175.37c38.013 152.983 176.138 266.828 340.675 266.828 121.704 0 233.136-61.668 297.917-164.93 8.17-12.996 4.202-30.037-8.714-38.166zm0 0"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M704 512c0-75.307-43.52-140.373-106.667-171.733v94.293L702.08 539.307c1.28-8.96 1.92-18.134 1.92-27.307zm106.667 0c0 40.107-8.747 77.867-23.04 112.64l64.64 64.64C880 636.16 896 576 896 512c0-182.613-127.787-335.36-298.667-374.187v88.107C720.64 262.613 810.667 376.747 810.667 512zM182.4 128L128 182.4 329.6 384H128v256h170.667L512 853.333V566.4l181.547 181.547c-28.587 21.973-60.8 39.68-96.214 50.346V886.4C656 872.96 709.547 846.08 754.56 809.173L841.6 896l54.4-54.4L182.4 128zM512 170.667l-89.173 89.173L512 349.013V170.667z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M234.612 152.734v718.532l554.775-338.981z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M609.09 858.613h194.181V178.98h-194.18M220.728 858.613h194.18V178.98H220.73v679.633z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M719.126 822.69H822.69V201.31H719.126M201.311 822.69L641.454 512 201.31 201.31v621.38z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M704 512c0-75.52-43.52-140.373-106.667-171.947V683.52C660.48 652.373 704 587.52 704 512zM128 384v256h170.667L512 853.333V170.667L298.667 384H128z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M128 384v256h170.667L512 853.333V170.667L298.667 384H128zm576 128c0-75.52-43.52-140.373-106.667-171.947V683.52C660.48 652.373 704 587.52 704 512zM597.333 137.813v87.894C720.64 262.4 810.667 376.747 810.667 512S720.64 761.6 597.333 798.293v87.894C768.427 847.36 896 694.613 896 512S768.427 176.64 597.333 137.813z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M512 455.75h450v112.5H512v-112.5zm-84.375 450a28.35 28.35 0 0 1-19.913-8.213L190.925 680.75H90.069a28.125 28.125 0 0 1-28.125-28.125v-281.25a28.125 28.125 0 0 1 28.125-28.125h100.856l216.787-216.787a28.069 28.069 0 0 1 48.038 19.912v731.25a28.125 28.125 0 0 1-28.125 28.125z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M962 568.25H793.25V737h-112.5V568.25H512v-112.5h168.75V287h112.5v168.75H962v112.5zm-534.375 337.5a28.35 28.35 0 0 1-19.913-8.213L190.925 680.75H90.069a28.125 28.125 0 0 1-28.125-28.125v-281.25a28.125 28.125 0 0 1 28.125-28.125h100.856l216.787-216.787a28.069 28.069 0 0 1 48.038 19.912v731.25a28.125 28.125 0 0 1-28.125 28.125z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M876.307 477.092l-.415.046c-1.474-14.462-12.942-25.93-27.358-27.358h-16.857v-.23c-18.054 0-33.714-10.409-41.221-25.608-1.796-3.73-3.178-7.691-3.915-11.929-3.408-9.442-7.231-18.653-11.56-27.634 0-.046 0-.046-.047-.046a44.275 44.275 0 0 1-5.204-10.317v-.046a45.846 45.846 0 0 1-2.625-15.337c0-12.712 5.112-24.227 13.495-32.517h-.047l9.35-9.35c.138-.092.23-.184.369-.322.092-.138.23-.23.322-.368 10.916-11.238 11.468-28.74 1.75-40.67l.184-.137c-7.185-8.613-14.692-16.857-22.568-24.687a352.377 352.377 0 0 0-25.285-23.075l-.092.092c-10.778-8.843-26.253-9.12-37.399-.967l-6.724 6.724-6.356 6.264-.276-.276c-13.403 13.448-33.07 16.857-49.65 10.178-2.257-.875-4.422-1.98-6.54-3.224a299.885 299.885 0 0 0-32.747-13.494c-1.98-.507-3.915-1.198-5.85-1.98 0 0-.046 0-.046-.047-5.48-2.165-10.685-5.573-15.152-10.04-7.508-7.508-11.837-16.996-13.127-26.76a43.81 43.81 0 0 1 0-11.514v-7.922c0-15.107-10.916-27.635-25.285-30.214a195.557 195.557 0 0 0-5.389-.46h.046c-10.133-.783-20.357-1.244-30.674-1.244s-20.542.46-30.674 1.29c-1.797.138-3.593.276-5.39.46-14.37 2.533-25.285 15.107-25.285 30.168v13.68c0 19.758-12.435 36.615-29.891 43.109-1.105.46-2.257.829-3.408 1.151-12.298 4.145-24.18 9.073-35.603 14.785-.092 0-.092.046-.138.046-.921.506-1.796.92-2.763 1.381-5.85 2.672-12.298 4.146-19.16 4.146a45.724 45.724 0 0 1-32.517-13.495l-.046.092-9.718-9.672c-10.685-10.685-27.174-11.837-39.103-3.547a157.267 157.267 0 0 0-4.053 3.363l-.184.184c-7.83 6.632-15.383 13.54-22.614 20.772a368.11 368.11 0 0 0-20.726 22.522s-.046 0-.046.046a153.344 153.344 0 0 0-3.5 4.191c-8.383 11.975-7.185 28.51 3.5 39.195l9.672 9.672c13.91 13.955 17.041 34.589 9.35 51.538-.461 1.06-.968 2.119-1.566 3.132a284.421 284.421 0 0 0-14.693 35.464c-.368 1.336-.829 2.58-1.335 3.823v.046c-2.211 5.803-5.666 11.33-10.41 15.982-8.98 8.981-20.725 13.495-32.516 13.495v.138h-13.68c-15.106 0-27.634 10.87-30.213 25.24-.184 1.75-.368 3.546-.506 5.388-.83 9.902-1.244 20.588-1.244 30.674v.507c0 10.179.415 20.219 1.244 30.121v.046c.138 1.797.322 3.593.506 5.39 2.58 14.369 15.061 25.285 30.122 25.285H186.597c19.574 0 36.293 12.25 42.926 29.522V602c.46 1.152.829 2.303 1.105 3.455.046.046.046.138.138.23 4.1 12.251 9.073 24.134 14.738 35.602.047.046.092.138.139.185.506.875.92 1.796 1.381 2.763 2.672 5.85 4.191 12.343 4.191 19.16a45.724 45.724 0 0 1-13.494 32.516l.046.047-9.35 9.35c-.138.091-.23.23-.368.322-.138.138-.23.23-.323.368-10.224 10.547-11.376 26.621-3.454 38.412 1.336 1.612 2.671 3.224 4.007 4.79 6.54 7.738 13.403 15.153 20.588 22.338 7.185 7.185 14.646 14.093 22.384 20.633 1.566 1.336 3.132 2.626 4.698 3.915 10.639 7.185 24.778 6.909 35.187-.69l6.725-6.725 6.31-6.31.276.23c13.955-13.909 34.635-17.04 51.63-9.303.875.368 1.75.829 2.58 1.243.046.046.138.046.23.139a286.253 286.253 0 0 0 35.925 14.922 62.4 62.4 0 0 1 3.132 1.06 46.707 46.707 0 0 1 16.58 10.593c8.981 8.981 13.495 20.726 13.495 32.516h.138v13.541c0 15.844 12.021 28.924 27.497 30.49v.184c11.1 1.06 22.337 1.566 33.76 1.566 11.422 0 22.66-.506 33.806-1.566l-.046-.184c15.429-1.566 27.542-14.646 27.542-30.49v-13.679c0-18.469 10.87-34.359 26.529-41.682 3.178-1.52 6.54-2.625 10.04-3.362 10.087-3.547 19.897-7.6 29.431-12.251 2.764-1.797 5.757-3.316 8.843-4.422a45.338 45.338 0 0 1 16.12-2.948c11.653 0 22.338 4.376 30.49 11.607a39.676 39.676 0 0 1 3.961 3.915l7.83 7.876.046-.046c10.777 10.777 27.68 11.836 39.655 3.177.047 0 .092-.046.139-.138 1.013-.829 1.98-1.612 2.947-2.44a377.697 377.697 0 0 0 23.213-21.325c7.415-7.415 14.554-15.153 21.325-23.213l2.625-3.178c8.429-11.56 7.692-27.635-2.072-38.458l-.047-.046-2.21-2.165-8.567-8.566v-.047c-13.725-13.725-16.95-33.944-9.718-50.709.69-1.566 1.427-3.132 2.303-4.606 5.434-11.053 10.178-22.522 14.231-34.312.46-1.566.921-3.132 1.566-4.606 2.211-5.757 5.665-11.1 10.317-15.752 8.935-8.935 20.726-13.448 32.517-13.448v-.046h13.218v-.185c16.397 0 29.8-12.896 30.582-29.062l.46.046a372.758 372.758 0 0 0 1.383-32.148c0-11.468-.553-22.798-1.566-33.99zm-178.565 33.99c0 21.463-3.546 42.097-10.178 61.303-2.488 7.323-5.481 14.462-8.797 21.324-9.166 18.838-21.463 35.925-36.063 50.664-14.647 14.692-31.688 26.99-50.48 36.247a179.54 179.54 0 0 1-21.508 8.98c-19.206 6.725-39.84 10.318-61.302 10.41h-.553c-21.279 0-41.682-3.5-60.75-9.995-7.691-2.579-15.107-5.665-22.245-9.165a187.67 187.67 0 0 1-50.295-35.925c-14.738-14.646-27.036-31.641-36.247-50.479a177.595 177.595 0 0 1-9.212-22.015c-6.54-19.114-10.132-39.564-10.178-60.888.046-21.279 3.592-42.695 10.178-61.763a182.24 182.24 0 0 1 9.166-22.062 188.68 188.68 0 0 1 36.247-50.478c14.738-14.647 31.826-26.898 50.663-36.11 7.047-3.408 14.37-6.447 21.877-8.98 19.068-6.495 39.471-9.995 60.75-9.995h.553c21.508.092 42.142 3.73 61.348 10.363 7.37 2.533 14.554 5.573 21.463 8.981 18.837 9.258 35.879 21.6 50.525 36.247a191.982 191.982 0 0 1 35.925 50.295c3.408 7 6.448 14.231 8.98 21.693 6.587 19.16 10.18 39.747 10.18 61.118v.23h-.047z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M655.331 894.933l72.757-71.003-326.086-310.307 326.086-310.307-72.757-71.004-398.84 381.31 398.84 381.31z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><g transform="rotate(.24 50 50)"><animateTransform attributeName="transform" type="rotate" values="360 50 50;0 50 50" keyTimes="0;1" dur="1.5s" repeatCount="indefinite" calcMode="spline" keySplines="0.5 0 0.5 1" begin="-0.15000000000000002s"></animateTransform><circle cx="50" cy="50" r="39.891" stroke="#ffc254" stroke-width="14.4" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;55.1413599195142 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle><circle cx="50" cy="50" r="39.891" stroke="#fff1cf" stroke-width="7.2" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;55.1413599195142 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle><circle cx="50" cy="50" r="32.771" stroke="#000" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;45.299378454348094 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle><circle cx="50" cy="50" r="47.171" stroke="#000" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;66.03388996804073 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle></g><g transform="rotate(7.842 50 50)"><animateTransform attributeName="transform" type="rotate" values="360 50 50;0 50 50" keyTimes="0;1" dur="1.5s" repeatCount="indefinite" calcMode="spline" keySplines="0.5 0 0.5 1"></animateTransform><path fill="#ffc254" stroke="#000" d="M97.2 50c0 6.1-1.2 12.2-3.5 17.8l-13.3-5.4c1.6-3.9 2.4-8.2 2.4-12.4"></path><path fill="#fff1cf" d="M93.6 49.9c0 1.2 0 2.4-.1 3.6l-.5 3.6c-.4 2-2.3 3.3-4.2 2.8l-.2-.1c-1.8-.5-3.1-2.3-2.7-3.9l.4-3c.1-1 .1-2 .1-3"></path><path fill="#ffc254" stroke="#000" d="M85.4 62.5c-.2.7-.5 1.4-.8 2.1-.3.7-.6 1.4-.9 2-.6 1.1-2 1.4-3.2.8-1.1-.7-1.7-2-1.2-2.9.3-.6.5-1.2.8-1.8.2-.6.6-1.2.7-1.8M94.5 65.7c-.3.9-.7 1.7-1 2.6-.4.8-.7 1.7-1.1 2.5-.7 1.4-2.3 1.9-3.4 1.3-1.1-.7-1.5-2.2-.9-3.4.4-.8.7-1.5 1-2.3.3-.8.7-1.5.9-2.3M85.6 67c0 .8.1 1.6.3 2.4.6-.5 1.1-1 1.4-1.7.2-.7.2-1.5-.1-2.2-.7-1.5-1.6.8-1.6 1.5z"></path></g><g transform="rotate(.24 50 50)"><animateTransform attributeName="transform" type="rotate" values="360 50 50;0 50 50" keyTimes="0;1" dur="1.5s" repeatCount="indefinite" calcMode="spline" keySplines="0.5 0 0.5 1" begin="-0.15000000000000002s"></animateTransform><path fill="#fff1cf" stroke="#000" d="M91 33.6l-10 4c-.4-1.2-1.1-2.4-1.7-3.5-.2-.5.3-1.1.9-1 3.4-.2 7.2-.2 10.8.5z"></path><path fill="#fff1cf" stroke="#000" d="M83.2 36.7l10-4c-.6-1.7-1.5-3.3-2.3-4.9-.3-.7-1.2-.6-1.4.1-1.9 3.2-3.8 6.1-6.3 8.8z"></path><path fill="#ffc254" stroke="#000" d="M82.8 50.2c0-3.4-.5-6.8-1.5-10-.2-.8-.4-1.5-.3-2.3.1-.8.4-1.6.7-2.4.7-1.5 1.9-3.1 3.7-4 1.8-.9 3.7-1 5.6-.3.9.4 1.7 1 2.4 1.8s1.3 1.7 1.7 2.8c1.5 4.6 2.2 9.5 2.2 14.4"></path><path fill="#fff1cf" d="M86.4 50.3v-.9l-.1-.9-.1-1.9c0-.9.2-1.7.7-2.3.5-.7 1.3-1.2 2.3-1.4h.3c.9-.2 1.9 0 2.6.6.7.5 1.3 1.4 1.4 2.4l.2 2.2.1 1.1v1.1"></path><path d="M88.6 36.6c.1.3-.2.7-.6.8-.5.2-.9 0-1.1-.3-.1-.3.2-.7.6-.8.5-.2 1-.1 1.1.3z"></path><path fill="none" stroke="#000" d="M86 38.7c.2.6.8.9 1.4.7.6-.2.9-.9.6-2.1.3 1.2 1 1.7 1.6 1.5.6-.2.9-.8.8-1.4"></path><path fill="#ffc254" stroke="#000" d="M86.8 42.2l.4 2.2c.1.4.1.7.2 1.1l.1 1.1c.1 1.2-.9 2.3-2.2 2.3-1.3 0-2.5-.8-2.5-1.9l-.1-1c0-.3-.1-.6-.2-1l-.3-1.9M96.2 40.2l.5 2.7c.1.5.2.9.2 1.4l.1 1.4c.1 1.5-.9 2.8-2.2 2.8-1.3 0-2.5-1.1-2.6-2.4l-.1-1.2c0-.4-.1-.8-.2-1.2l-.4-2.5"></path><path fill="none" stroke="#000" d="M90.9 36.4c1.1-1.1 2.7-1.6 4.3-1.9M91.6 37.5c1.3-.5 2.8-.8 4.2-.7M91.7 38.8c.2-.1.4-.1.7-.1 1.2-.1 2.5 0 3.8.3M85 38.4c-1.6-.1-3.1.6-4.6 1.2M85 39.5c-1.4.3-2.8.9-4 1.6M85.5 40.4c-.2 0-.4.1-.7.2-1.1.5-2.2 1.1-3.2 1.8"></path><path fill="#ff7bac" d="M92.8 34.2c.1.3-.3.8-.9 1-.6.2-1.2.1-1.4-.2-.1-.3.3-.8.9-1 .7-.2 1.3-.1 1.4.2zM82.2 38.2c.1.3.7.3 1.3.1.6-.2 1-.6.9-.9-.1-.3-.7-.3-1.3-.1-.6.2-1.1.6-.9.9z"></path><path d="M90 35.7l-.7.3-.3-.7c-.3-.9.1-1.9.9-2.3l.7-.3.3.7c.4 1 0 2-.9 2.3zM85.3 37.4l.7-.2-.2-.6c-.3-.8-1.3-1.2-2.1-.8l-.8.2.2.6c.4.8 1.3 1.1 2.2.8z"></path></g></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e){var t=/mobile/i.test(window.navigator.userAgent);var n={element:e.element||document.getElementsByClassName("mplayer")[0],type:e.type||"html5",preload:"auto",quality:false,mobile:false,hotkey:false,autoplay:false,loop:false,blob:false,volume:40,loggerType:e.loggerType||1};if(t){e.autoplay=false;e.mobile=true}for(var i in n){if(n.hasOwnProperty(i)&&!e.hasOwnProperty(i)){e[i]=n[i]}}if(!e.video){e.video={poster:"",src:""}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(1);var s=r(i);function r(e){return e&&e.__esModule?e:{default:e}}var a={build:function e(t,n){var i='\n            <div class="video-box">\n                <video class="mplayer-video mplayer-video-index'+t+'" src=""></video>\n            </div>\n            <div class="info-panel">\n                <a class="close" title="关闭">[x]</a>\n                <ul class="items">\n                    <li>\n                        <span class="name">Player:</span>\n                        <span class="v">Ayaya @'+"1.2.3"+"-"+"d80b218"+'</span>\n                    </li>\n                    <li>\n                        <span class="name">Support Mode:</span>\n                        <span class="v">html5, flv, hls, M(PEG)-Dash</span>\n                    </li>\n                    <li>\n                        <span class="name">Current Mode:</span>\n                        <span class="v player-mode">default</span>\n                    </li>\n                    <li>\n                        <span class="name">Video ID:</span>\n                        <span class="v vid">-</span>\n                    </li>\n                    <li>\n                        <span class="name">Viewport:</span>\n                        <span class="v viewport">900x506</span>\n                    </li>\n                    <li>\n                        <span class="name">Volume:</span>\n                        <span class="v volume">40</span>\n                    </li>\n                    <li>\n                        <span class="name">Codecs:</span>\n                        <span class="v codecs">video/mp4;codecs="avc1.640028"</span>\n                    </li>\n                    <li>\n                        <span class="name">Host:</span>\n                        <span class="v host"></span>\n                    </li>\n                    <li>\n                        <span class="name">Connection Speed:</span>\n                        <span class="v right connection-speed">-</span>\n                    </li>\n                    <li>\n                        <span class="name">Dropped frames:</span>\n                        <span class="v dropped-frames">0</span>\n                    </li>\n                </ul>\n            </div>\n            <div class="hidden">\n                <div class="copy-location">'+window.location.href+'</div>\n            </div>\n            <div class="context-menu">\n                <ul>         \n                </ul>            \n            </div>\n            <div class="video-play-status-mask">\n                <div class="icon play-status">'+s.default.play+'</div>\n            </div>\n            \n            <div class="video-notice">\n                <span>10%</span>\n            </div>\n            <div class="video-stats">\n                '+s.default.play+'\n            </div>\n            <div class="video-waiting">\n                '+s.default.loading+'\n            </div>\n            \n            <div class="control-mask"></div>\n            <div class="controls">\n            <div class="control-bar">\n                <div class="seek-timer-label">00:00</div>\n                    <div class="bar-player-time hidden">00:00</div>\n                    <div class="load-bar">\n                        <div class="loaded" style="width: 0"></div>\n                        <div class="played" style="width: 0">\n                            <span class="after"></span>                        \n                        </div>\n                        <div class="hover" style="width: 0"></div>\n                    </div>\n                </div>\n                <div class="control left">\n                    <button class="icon button-play">\n                        '+s.default.play+'\n                    </button>\n                    <button class="icon button-next hidden">\n                        '+s.default.skip+'                    \n                    </button>\n                    <div class="volume-box">\n                        <button class="icon button-volume">\n                            '+s.default.volume1+'\n                        </button>\n                        <div class="volume-bar-box">\n                            <div class="volume-bar">\n                                <div class="volume-bar-inner" style="width: 45%"></div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div class="play-time">\n                        <span class="play-current">00:00</span> / <span class="play-duration">00:00</span>\n                    </div>\n                </div>\n                <div class="control right">\n                    <button class="icon button-disorder hidden">  \n                    </button>\n                    '+(n.quality?'<button class="icon">720P</button>':"")+'\n                    <div class="video-quality hidden">\n                        <ul>\n                            <li>1080P</li>\n                            <li>720P</li>\n                            <li>360P</li>                           \n                        </ul>                    \n                    </div>    \n                    \n                    <input type="checkbox" id="mplayer-chk'+t+'" class="button-settings-checkbox hidden"/>\n                    <label for="mplayer-chk'+t+'" class="icon button-settings">\n                        '+s.default.setting+'\n                    </label>\n                    <div class="control-settings">\n                        <ul class="setting-group">\n                            <li class="play-speed">播放速度：<span class="text">正常</span>'+s.default.back+'</li>\n                            <li class="mirror">镜像模式：<span class="text">关</span></li>\n                            <li class="hotkey">方向热键：<span class="text">开启</span></li>\n                            <li class="loop">洗脑循环：<span class="text">关闭</span></li>                    \n                        </ul>\n                        <ul class="play-speed-box hidden">\n                            <li class="line">'+s.default.back+' 速度</li>\n                            <li data-spd="0.5">0.50</li>\n                            <li data-spd="0.75">0.75</li>\n                            <li data-spd="1" class="active">正常</li>\n                            <li data-spd="1.25">1.25</li>\n                            <li data-spd="1.5">1.50</li>\n                            <li data-spd="2">2</li>                           \n                        </ul>                \n                    </div>\n                    <div class="full-screen-group">\n                        <button class="icon button-web-full-screen">'+s.default.fullWeb+'</button>  \n                        <button class="icon button-full-screen">'+s.default.full+"</button>           \n                    </div>\n                    \n                </div>\n            </div>\n\n            ";return i}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function s(e){var t=this;r(this,s);this.isShow=false;var n=e.player.element.querySelector(".context-menu");var i=n.querySelector("ul");i.innerHTML="";this.init(i,e.menus);e.player.element.oncontextmenu=function(e){e.preventDefault();n.style.left=e.offsetX+"px";n.style.top=e.offsetY+"px";n.style.display="block";t.isShow=true};e.player.element.onclick=function(e){n.style.display="none";t.isShow=false}}i(s,[{key:"init",value:function e(t,n){var i=true;var s=false;var r=undefined;try{for(var a=n[Symbol.iterator](),l;!(i=(l=a.next()).done);i=true){var o=l.value;var u=document.createElement("li");u.innerText=o.name;o.class&&u.classList.add(o.class);u.addEventListener("click",o.func);t.appendChild(u)}}catch(e){s=true;r=e}finally{try{if(!i&&a.return){a.return()}}finally{if(s){throw r}}}}}]);return s}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var s=n(0);var r=a(s);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function n(e){var t=this;l(this,n);this.player=e;this.element=e.element;this.panel=this.element.querySelector(".info-panel");this.events={};this.events.droppedFrames=this.panel.querySelector(".dropped-frames");this.events.connectionSpeed=this.panel.querySelector(".connection-speed");this.events.viewport=this.panel.querySelector(".viewport");this.events.volume=this.panel.querySelector(".volume");this.events.videoId=this.panel.querySelector(".vid");this.events.host=this.panel.querySelector(".host");this.events.playerMode=this.panel.querySelector(".player-mode");this.events.codecs=this.panel.querySelector(".codecs");this.isShow=false;this.panel.querySelector(".close").addEventListener("click",function(e){e.preventDefault();t.close()});this.events.playerMode.innerText=this.player.options.type;this.dict=[{x:0,y:14},{x:180,y:14}]}i(n,[{key:"open",value:function e(){this.isShow=true;this.panel.style.display="block"}},{key:"close",value:function e(){this.isShow=false;this.panel.style.display="none"}},{key:"setVolumeText",value:function e(t){this.events.volume.innerText=t}},{key:"setVideoId",value:function e(t){this.events.videoId.innerText=t}},{key:"setSourceHost",value:function e(t){this.events.host.innerText=t}},{key:"trigger",value:function e(){if(this.player.stats){this.events.droppedFrames.innerText=this.player.stats.droppedFrames+"/"+this.player.stats.totalFrames;this.events.connectionSpeed.innerText=(this.player.stats.fragLastKbps/8).toFixed(2)+"Kb/s";this.events.codecs.innerText=this.player.stats.codec}this.events.viewport.innerText=this.element.offsetWidth+"x"+this.element.offsetHeight}},{key:"connectionSpeedLine",value:function e(){}}]);return n}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var r=n(2);var s=n(0);var a=f(s);var l=n(1);var o=f(l);var u=n(3);var c=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var v=a.default.getLogger();var h=function(){function n(e){var t=this;d(this,n);this.player=e;this.element=e.element;this.video=e.video;this.autoHideControls=0;this.status=c.default.LOADING;this.speed=1;this.isShow=false;this.mirror=false;this.hotkey=false;this.events=[];this.initButton();this.initLoadBar();this.initPlayTimer();this.initVolumeBar();this.initSettingGroup();this.initWaitingWarp();this._maskClick();this.eventFunc=function(){for(var e=0;e<t.events.length;e++){t.events[e]()}};this.element.addEventListener("mousemove",function(){t.autoHide()});v.debug("Controller inited")}i(n,[{key:"initButton",value:function e(){var t=this;this.button={};this.button.play=this.element.querySelector(".button-play");this.button.volume=this.element.querySelector(".button-volume");this.button.setting=this.element.querySelector(".button-settings-checkbox");this.button.nextPlay=this.element.querySelector(".button-next");var n=function e(){t.player.pause();t.status=c.default.PAUSE;t.video.removeEventListener("timeupdate",t.eventFunc);t.video.removeEventListener("ended",e);t.player.events.trigger(c.default.PLAYED)};this.play=function(){v.info("Play Status: "+t.status);if(t.status===c.default.PLAY){t.player.pause();t.status=c.default.PAUSE;t.video.removeEventListener("timeupdate",t.eventFunc);t.video.removeEventListener("ended",n)}else{t.video.addEventListener("timeupdate",t.eventFunc);t.video.addEventListener("ended",n);t.status=c.default.PLAY;t.player.play();t.autoHide()}};this.next=function(){v.info("Next video: "+t.player.source2);if(t.player.source2!==null){t.player.next()}};this.button.nextPlay.addEventListener("click",function(){return t.next()});this.button.play.addEventListener("click",function(){return t.play()});this.button.volume.addEventListener("click",function(){if(t.video.muted){t.setVolume(t.video.volume*100)}else{t.setVolume(0)}})}},{key:"initLoadBar",value:function e(){var s=this;this.bar={};this.bar.load=this.element.querySelector(".player-wrap .control-bar");this.bar.loaded=this.bar.load.querySelector(".load-bar .loaded");this.bar.played=this.bar.load.querySelector(".load-bar .played");this.bar.hover=this.bar.load.querySelector(".hover");this.bar.timerLabel=this.bar.load.querySelector(".seek-timer-label");var n=function e(t){s.element.removeEventListener("mousemove",i);s.element.removeEventListener("mouseup",e)};var t=function e(t){s.element.addEventListener("mousemove",i);s.element.addEventListener("mouseup",n);t.preventDefault();return false};var i=function e(t){if(!s.video.duration||s.video.duration<=0)return;var n=(t.clientX-s.bar.load.getBoundingClientRect().left)/s.bar.load.offsetWidth;n=n>0?n:0;n=n<1?n:1;s.bar.played.style.width=(n*100).toFixed(2)+"%";s.player.seek(n*s.video.duration)};this.bar.played.addEventListener("mousedown",t);this.bar.load.addEventListener("mousedown",function(e){var t=e.offsetX;var n=e.target;while(n!==s.bar.load){t+=n.offsetLeft;n=n.parentNode}var i=t/s.bar.load.offsetWidth;i=i>0?i:0;i=i<1?i:1;s.bar.played.style.width=(i*100).toFixed(2)+"%";s.player.seek(parseFloat(i)*s.video.duration);e.preventDefault();return false});this.bar.load.addEventListener("mousemove",function(e){if(!s.video.duration||s.video.duration<=0)return;var t=(e.clientX-s.bar.load.getBoundingClientRect().left)/s.bar.load.offsetWidth;t=t>0?t:0;t=t<1?t:1;var n=(0,r.formatTime)(parseFloat(t)*s.video.duration);s.bar.timerLabel.style.left=t*100+"%";s.bar.timerLabel.innerText=n;s.bar.hover.style.width=t*100+"%"});this.updateLoadBar=function(){var e=s.video.currentTime/s.video.duration;var t=s.video.buffered.length?s.video.buffered.end(s.video.buffered.length-1)/s.video.duration:0;var n=(e*100).toFixed(2)+"%";var i=(t*100).toFixed(2)+"%";s.bar.loaded.style.width=i;s.bar.played.style.width=n};this.events.push(this.updateLoadBar)}},{key:"initVolumeBar",value:function e(){var s=this;this.volumeBar={};this.volumeBar.bar=this.element.querySelector(".volume-bar");this.volumeBar.inner=this.element.querySelector(".volume-bar-inner");this.volumeBar.min=this.volumeBar.bar.offsetLeft;this.volumeBar.max=this.volumeBar.min+this.volumeBar.offsetWidth;this.setVolume=function(e){e=e>100?100:e;e=e<0?0:e;e=parseInt(e);v.debug("Volume change to "+e);if(parseInt(e)===0){s.video.muted=true;s.button.volume.innerHTML=o.default.mute;s.volumeBar.inner.style.width="0%"}else{s.video.muted=false;s.video.volume=(e/100).toFixed(2);s.volumeBar.inner.style.width=e+"%";if(e>0&&e<50){s.button.volume.innerHTML=o.default.volume1}else{s.button.volume.innerHTML=o.default.volume2}}s.player.notice.showAutoHide("音量 "+e);s.player.infoPanel.setVolumeText(e)};this.getVolume=function(){return s.video.volume};var n=function e(t){var n=s.volumeBar.bar.getBoundingClientRect().left;var i=(t.clientX-n)/s.volumeBar.bar.offsetWidth*100;s.setVolume(i)};var t=function e(t){n(t);s.element.addEventListener("mousemove",i);s.element.addEventListener("mouseup",r);t.preventDefault();t.stopPropagation();return false};var i=function e(t){n(t)};var r=function e(t){s.element.removeEventListener("mousemove",i);s.element.removeEventListener("mouseup",e)};this.volumeBar.inner.addEventListener("mousedown",t);this.volumeBar.bar.addEventListener("mousedown",function(e){n(e)})}},{key:"initPlayTimer",value:function e(){var t=this;this.timer={};this.timer.current=this.element.querySelector(".play-time .play-current");this.timer.duration=this.element.querySelector(".play-time .play-duration");this.updateTimer=function(){t.timer.current.innerText=(0,r.formatTime)(t.video.currentTime);t.timer.duration.innerText=(0,r.formatTime)(t.video.duration)};this.events.push(this.updateTimer)}},{key:"initSettingGroup",value:function e(){var n=this;var t=this;this.settings={};var i=this.element.querySelector(".setting-group");this.playSpeedBox=this.element.querySelector(".play-speed-box");this.settings.playSpeed=i.querySelector(".play-speed");this.settings.mirror=i.querySelector(".mirror");this.settings.hotkey=i.querySelector(".hotkey");this.settings.loop=i.querySelector(".loop");var s=function e(t){var n=t.getElementsByTagName("li");for(var i=0;i<n.length;i++){n[i].classList.remove("active")}};this.settings.playSpeed.addEventListener("click",function(e){i.classList.add("hidden");n.playSpeedBox.classList.remove("hidden")});this.playSpeedBox.addEventListener("click",function(e){var t=e.target||e.srcElement;if(t.tagName.toLowerCase()==="li"){if(t.dataset.spd!=null){n.player.playbackRate(t.dataset.spd);s(n.playSpeedBox);t.classList.add("active")}}n.playSpeedBox.classList.add("hidden");i.classList.remove("hidden")});this.settings.mirror.addEventListener("click",t._mirror.bind(t),false);this.settings.loop.addEventListener("click",t._loop.bind(t),false);this.bindHotKeyFunc=t._bindHotKey.bind(t);this.settings.hotkey.addEventListener("click",function(e){t.hotKey()});t.hotKey()}},{key:"initWaitingWarp",value:function e(){var n=this;this.waitingId=0;var t=function e(t){n.player.element.classList.remove("player-waiting");clearInterval(n.waitingId)};this.player.video.addEventListener("waiting",function(){n.player.element.classList.add("player-waiting");v.debug("Video Loading..");n.waitingId=setInterval(function(){if(n.player.video.readyState>3){t()}},300)});this.player.video.addEventListener("canplay",t)}},{key:"autoHide",value:function e(){var t=this;this.autoHideFunc=function(){t.show();clearTimeout(t.autoHideControls);t.autoHideControls=setTimeout(function(){if(t.video.played.length&&t.status!=c.default.PAUSE){t.hide()}},3e3)};(0,r.requestAnimationFrame)(this.autoHideFunc)}},{key:"show",value:function e(){this.isShow=true;this.player.element.classList.remove("player-hide-control");document.body.style.cursor="auto"}},{key:"hide",value:function e(){this.isShow=false;this.player.element.classList.add("player-hide-control");this.button.setting.checked=false;if(this.player.fullScreen.mode>0){document.body.style.cursor="none"}}},{key:"_mirror",value:function e(){if(this.mirror){this.video.style.transform="scaleX(1)";this.settings.mirror.querySelector(".text").innerText="关";this.player.notice.showAutoHide("镜像 关")}else{this.video.style.transform="scaleX(-1)";this.settings.mirror.querySelector(".text").innerText="开";this.player.notice.showAutoHide("镜像 开")}this.mirror=!this.mirror}},{key:"_loop",value:function e(){if(this.video.loop){this.video.loop=false;this.settings.loop.querySelector(".text").innerText="关闭";this.player.notice.showAutoHide("循环播放 关")}else{this.video.loop=true;this.settings.loop.querySelector(".text").innerText="开启";this.player.notice.showAutoHide("循环播放 开")}}},{key:"hotKey",value:function e(){var t=this;if(this.hotkey){this.settings.hotkey.querySelector(".text").innerText="关闭";document.removeEventListener("keydown",this.bindHotKeyFunc);this.player.notice.showAutoHide("全局热键 关");v.debug("Hotkey disable")}else{this.settings.hotkey.querySelector(".text").innerText="开启";document.addEventListener("keydown",this.bindHotKeyFunc);this.player.notice.showAutoHide("全局热键 开");v.debug("Hotkey enable")}this.hotkey=!this.hotkey}},{key:"_bindHotKey",value:function e(t){console.log("event",t);t.stopPropagation();t.preventDefault();switch(t.keyCode){case 123:console.log("...link start!");return false;case 37:case 74:this.player.seek(this.player.seek()-5);break;case 39:case 76:this.player.seek(this.player.seek()+5);break;case 38:this.player.setVolume(this.player.volume+5);break;case 40:this.player.setVolume(this.player.volume-5);break;case 75:case 32:this.play();break}}},{key:"_maskClick",value:function e(){var t=this;v.debug("addEventListener video click -> play()");var n=this;this.player.video.addEventListener("click",function(){if(!n.player.menu.isShow&&n.isShow){t.play()}})}},{key:"resetLoadBar",value:function e(){this.bar.played.style.width="0%"}},{key:"destroy",value:function e(){document.removeEventListener("keyup",this.bindHotKeyFunc);clearTimeout(this.autoHideControls);clearInterval(this.waitingId);cancelAnimationFrame(this.autoHideFunc)}}]);return n}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var i=n(0);var r=a(i);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o={NONE:0,WEB:1,SCREEN:2};var u=r.default.getLogger();var c=function(){function i(e){var t=this;l(this,i);this.player=e;var n=document.body.requestFullscreen||document.body.mozRequestFullScreen||document.body.webkitRequestFullscreen||document.body.msRequestFullscreen;this.SCREEN_DIRECTION={primary:"landscape-primary",secondary:"landscape-secondary"};this.setMode(o.NONE);this.element={};this.element.name={};this.element.name.web="player-web-full";this.element.name.screen="player-screen-full";this.element.fullScreen=this.player.element.querySelector(".button-full-screen");this.element.fullWebScreen=this.player.element.querySelector(".button-web-full-screen");this.element.fullScreen.addEventListener("click",function(){t.screenFull()});this.element.fullWebScreen.addEventListener("click",function(){t.webFull()});u.debug("Player Screen Mode:"+this.isInFullScreenMode())}s(i,[{key:"isInFullScreenMode",value:function e(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||this.player.element.fullScreen||this.player.element.mozFullScreen||this.player.element.webkitIsFullScreen||this.player.element.msFullscreenElement}},{key:"webFull",value:function e(){u.debug("Player Screen Mode:"+this.isInFullScreenMode());if(this.mode!==o.WEB){this.player.element.classList.add(this.element.name.web);this.player.element.classList.remove(this.element.name.screen);document.body.style.overflow="hidden";this.setMode(o.WEB)}else{this.player.element.classList.remove(this.element.name.web);this.player.element.classList.remove(this.element.name.screen);document.body.style.overflow="auto";this.setMode(o.NONE)}this.player.infoPanel.trigger();this.player.events.trigger("fullscreen",this.getMode())}},{key:"screenFull",value:function e(){u.debug("Player Screen Mode:"+this.isInFullScreenMode());this.player.element.classList.remove(this.element.name.screen);this.player.element.classList.remove(this.element.name.web);if(this.mode!==o.SCREEN&&!this.isInFullScreenMode()){u.debug("InMode"+o.SCREEN);if(this.player.element.requestFullscreen){this.player.element.requestFullscreen()}else if(this.player.element.mozRequestFullScreen){this.player.element.mozRequestFullScreen()}else if(this.player.element.webkitRequestFullscreen){this.player.element.webkitRequestFullscreen()}else if(this.player.element.msRequestFullscreen){this.player.element.msRequestFullscreen()}if(this.player.options.mobile){screen.orientation.lock(this.SCREEN_DIRECTION.primary)}this.player.element.style.width="100%";this.player.element.style.height="100%";this.player.element.classList.add(this.element.name.screen);this.setMode(o.SCREEN)}else{u.debug("Exit Screen Mode"+o.NONE);this.setMode(o.NONE);this.exitScreenFull()}this.player.events.trigger("fullscreen",this.getMode())}},{key:"exitScreenFull",value:function e(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}if(this.player.options.mobile){screen.orientation.unlock()}this.player.element.style.width="";this.player.element.style.height="";this.player.element.classList.remove(this.element.name.screen);u.debug("Exit ScreenFull Mode")}},{key:"getMode",value:function e(){return this.mode}},{key:"setMode",value:function e(t){this.mode=t;if(t!==o.SCREEN&&this.isInFullScreenMode()){this.exitScreenFull()}}}]);return i}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var s=n(1);var r=a(s);function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function t(e){l(this,t);this.player=e;this.element=this.player.element.querySelector(".video-notice");this.element.style.display="none";this.element.style.opacity=0;this.textEl=this.element.querySelector("span");this.textEl.innerText="";this.stats=this.player.element.querySelector(".video-stats");this.statsIv=0;this.iv=0}i(t,[{key:"showAutoHide",value:function e(t){var n=this;clearTimeout(this.iv);this.show(t);this.iv=setTimeout(function(){n.hide()},1500)}},{key:"show",value:function e(t){this.textEl.innerHTML=t;this.element.style.display="block";this.element.style.opacity=1}},{key:"hide",value:function e(){this.element.style.display="block";this.element.style.opacity=0}},{key:"trigger",value:function e(){}},{key:"showStats",value:function e(t){var n=this;clearTimeout(this.statsIv);this.stats.innerHTML=t;this.stats.classList.add("show");this.statsIv=setTimeout(function(){n.stats.classList.remove("show")},460)}},{key:"destroy",value:function e(){clearTimeout(this.iv);clearTimeout(this.statsIv)}}]);return t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}();var o=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=n(0);var r=l(i);var a=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var c=/\s+/;var f=function e(t,n,i,s){if(!i)return true;if((typeof i==="undefined"?"undefined":o(i))==="object"){for(var r in i){t[n].apply(t,[r,i[r]].concat(s))}return false}if(c.test(i)){var a=i.split(c);for(var l=0;l<i.length;l++){t[n].apply(t,[a[l]].concat(s))}return false}return true};var d=function e(n,i,s,r){var a=void 0,l=-1;var o=n.length,u=i[0],c=i[1],f=i[2];var t=function t(){try{switch(i.length){case 0:while(++l<o){(a=n[l]).callback.call(a.ctx)}return;case 1:while(++l<o){(a=n[l]).callback.call(a.ctx,u)}return;case 2:while(++l<o){(a=n[l]).callback.call(a.ctx,u,c)}return;case 3:while(++l<o){(a=n[l]).callback.call(a.ctx,u,c,f)}return;default:while(++l<o){(a=n[l]).callback.call(a.ctx,i)}return}}catch(e){h.error(s,"error on event",r,"trigger","-",e);t()}};t()};var v={on:"on",once:"once"};var h=r.default.getLogger();var p=function(){function i(e){u(this,i);this.player=e;h.debug("Event inited")}s(i,[{key:"on",value:function e(t,n,i){if(!f(this,"on",t,[n,i])||!n)return this;this._events||(this._events={});var s=this._events[t]||(this._events[t]=[]);s.push({callback:n,context:i,ctx:i||this});return this}},{key:"once",value:function e(t,n,i){var s=this,r=arguments;var a=void 0;if(f(this,"once",t,[n,i])||!n)return this;var l=function e(){return s.off(t,a)};a=function e(){l(t,a);n.apply(s,r)};return this.on(t,a,i)}},{key:"off",value:function e(t,n,i){var s=this._events[t].indexOf(n);this._events[t].splice(s,1)}},{key:"trigger",value:function e(t){var n=this,i=arguments;if(this._events!=null&&this._events.hasOwnProperty(t)){if(this._events[t]!=null){this._events[t].forEach(function(e){if(typeof e.callback==="function"){e.callback.apply(n,i)}})}}}},{key:"offListening",value:function e(t,n,i){}},{key:"destroy",value:function e(){this._events=null}}],[{key:"register",value:function e(t){i.Custom||(i.Custom={});var n=typeof t==="string"&&t.toUpperCase().trim();if(n&&!i.Custom[n]){i.Custom[n]=n.toLowerCase().split("_").map(function(e,t){return t===0?e:e=e[0].toUpperCase()+e.slice(1)}).join("")}else{h.error("Events","Error when register event: "+t)}}},{key:"listAvailableCustomEvents",value:function e(){i.Custom||(i.Custom={});return Object.keys(i.Custom).filter(function(e){return typeof i.Custom[e]==="string"})}}]);return i}();t.default=p;p.PLAYER_READY="ready";p.PLAYER_RESIZE="resize";p.PLAYER_FULLSCREEN="fullscreen";p.PLAYER_PLAY="play";p.PLAYER_PAUSE="pause";p.PLAYER_STOP="stop";p.PLAYER_ENDED="ended";p.PLAYER_SEEK="seek";p.PLAYER_ERROR="playererror";p.ERROR="error";p.PLAYER_TIMEUPDATE="timeupdate";p.PLAYER_VOLUMEUPDATE="volumeupdate";p.PLAYER_SUBTITLE_AVAILABLE="subtitleavailable"},function(e,t){}])["default"]});
//# sourceMappingURL=MPlayer.js.map