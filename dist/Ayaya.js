(function e(t,n){if(typeof exports==="object"&&typeof module==="object")module.exports=n();else if(typeof define==="function"&&define.amd)define("Ayaya",[],n);else if(typeof exports==="object")exports["Ayaya"]=n();else t["Ayaya"]=n()})(window,function(){return function(n){var r={};function a(e){if(r[e]){return r[e].exports}var t=r[e]={i:e,l:false,exports:{}};n[e].call(t.exports,t,t.exports,a);t.l=true;return t.exports}a.m=n;a.c=r;a.d=function(e,t,n){if(!a.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};a.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};a.t=function(t,e){if(e&1)t=a(t);if(e&8)return t;if(e&4&&typeof t==="object"&&t&&t.__esModule)return t;var n=Object.create(null);a.r(n);Object.defineProperty(n,"default",{enumerable:true,value:t});if(e&2&&typeof t!="string")for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n};a.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};a.d(e,"a",e);return e};a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};a.p="/";return a(a.s=9)}([function(e,t,n){"use strict";t.__esModule=true;t.extend=l;t.indexOf=d;t.escapeExpression=f;t.isEmpty=v;t.createFrame=p;t.blockParams=h;t.appendContextPath=m;var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var a=/[&<>"'`=]/g,i=/[&<>"'`=]/;function s(e){return r[e]}function l(e){for(var t=1;t<arguments.length;t++){for(var n in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],n)){e[n]=arguments[t][n]}}}return e}var o=Object.prototype.toString;t.toString=o;var u=function e(t){return typeof t==="function"};if(u(/x/)){t.isFunction=u=function(e){return typeof e==="function"&&o.call(e)==="[object Function]"}}t.isFunction=u;var c=Array.isArray||function(e){return e&&typeof e==="object"?o.call(e)==="[object Array]":false};t.isArray=c;function d(e,t){for(var n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}return-1}function f(e){if(typeof e!=="string"){if(e&&e.toHTML){return e.toHTML()}else if(e==null){return""}else if(!e){return e+""}e=""+e}if(!i.test(e)){return e}return e.replace(a,s)}function v(e){if(!e&&e!==0){return true}else if(c(e)&&e.length===0){return true}else{return false}}function p(e){var t=l({},e);t._parent=e;return t}function h(e,t){e.path=t;return e}function m(e,t){return(e?e+".":"")+t}},function(e,t,n){"use strict";t.__esModule=true;var l=["description","fileName","lineNumber","message","name","number","stack"];function o(e,t){var n=t&&t.loc,r=undefined,a=undefined;if(n){r=n.start.line;a=n.start.column;e+=" - "+r+":"+a}var i=Error.prototype.constructor.call(this,e);for(var s=0;s<l.length;s++){this[l[s]]=i[l[s]]}if(Error.captureStackTrace){Error.captureStackTrace(this,o)}try{if(n){this.lineNumber=r;if(Object.defineProperty){Object.defineProperty(this,"column",{value:a,enumerable:true})}else{this.column=a}}}catch(e){}}o.prototype=new Error;t["default"]=o;e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function v(e){a(this,v);if(v.created){return v.instance}v.created=true;v.LOGGER_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4};v.LOGGER_TYPE={VIEW:0,CONSOLE:1};this.el=document.getElementById(e||"logger");this.level=v.LOGGER_LEVEL.DEBUG;this.type=v.LOGGER_TYPE.CONSOLE}r(v,[{key:"debug",value:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}this.log.apply(this,[v.LOGGER_LEVEL.DEBUG].concat(n))}},{key:"info",value:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}this.log.apply(this,[v.LOGGER_LEVEL.INFO].concat(n))}},{key:"warn",value:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}this.log.apply(this,[v.LOGGER_LEVEL.WARN].concat(n))}},{key:"error",value:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}this.log.apply(this,[v.LOGGER_LEVEL.ERROR].concat(n))}},{key:"fatal",value:function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++){n[r]=arguments[r]}this.log.apply(this,[v.LOGGER_LEVEL.FATAL].concat(n))}},{key:"log",value:function e(t){if(t<this.level)return;for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++){r[a-1]=arguments[a]}if(this.type===v.LOGGER_TYPE.VIEW){var i="";var s=true;var l=false;var o=undefined;try{for(var u=r[Symbol.iterator](),c;!(s=(c=u.next()).done);s=true){var e=c.value;i+=e+" "}}catch(e){l=true;o=e}finally{try{if(!s&&u.return){u.return()}}finally{if(l){throw o}}}if(i!=="")i="["+v.typeToName(this.level)+"] "+i;this.el.appendChild(document.createTextNode(i));this.el.appendChild(document.createElement("br"));this.el.scrollTop=this.el.scrollHeight}else{var d;var f=v.getLogFormat(t);(d=console).log.apply(d,[f.text,f.color].concat(r))}}},{key:"setLevel",value:function e(t){this.level=t}},{key:"setType",value:function e(t){this.type=t}}],[{key:"getLogger",value:function e(t){if(!v.instance){v.instance=new v(t)}return v.instance}},{key:"getLogFormat",value:function e(t){var n="%c["+v.typeToName(t)+"]\t-> ";return{text:n,color:v.levelGetColor(t)}}},{key:"levelGetColor",value:function e(t){switch(t){case v.LOGGER_LEVEL.DEBUG:return"color: #000";case v.LOGGER_LEVEL.INFO:return"color: #00FF00";case v.LOGGER_LEVEL.WARN:return"color: #FFA500";case v.LOGGER_LEVEL.ERROR:default:return"color: red"}}},{key:"typeToName",value:function e(t){var n=void 0;for(var r in v.LOGGER_LEVEL){if(t===v.LOGGER_LEVEL[r]){n=r;break}}return n}}]);return v}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EVENTS=undefined;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var a=n(10);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(){i(this,e);this._events={}}r(e,[{key:"register",value:function e(t,n){if(this._events[t]===undefined){this._events[t]=[]}this._events[t].push(n)}},{key:"unregister",value:function e(t,n){if(this._events[t]===undefined){throw new a.EventNoFoundException('event named "'+t+'"  not unregister method')}var r=this._events[t].indexOf(n);if(r===-1){throw new a.EventMethodNoFoundException('method named "'+n+'" is not in event "'+t+'"')}this._events[t].splice(r,1);if(this._events[t].length===0){delete this._events[t]}}},{key:"dispatch",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this._events[t]===undefined){return}this._events[t].map(function(e){return e(n)})}},{key:"destroy",value:function e(){this._events=null}}]);return e}();var l=t.EVENTS={PLAY:"play",PLAYED:"played",PAUSE:"pause",STOP:"stop",ENDED:"ended",SEEK:"seek",ERROR:"error",READY:"ready",DESTROY:"destroy",PLAYER_PLAYBACK_RATE:"playbackRate",PLAYER_FULLSCREEN:"fullscreen",PLAYER_TIMEUPDATE:"timeupdate",PLAYER_VOLUME_UPDATE:"volumeupdate",PLAYER_SUBTITLE_AVAILABLE:"subtitleavailable",INITED:"inited",P2P_STATS:"p2pstats"};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(31);var a=C(r);var i=n(32);var s=C(i);var l=n(33);var o=C(l);var u=n(34);var c=C(u);var d=n(35);var f=C(d);var v=n(36);var p=C(v);var h=n(37);var m=C(h);var y=n(38);var g=C(y);var b=n(39);var w=C(b);var E=n(40);var x=C(E);var S=n(41);var k=C(S);var M=n(42);var L=C(M);var _=n(43);var P=C(_);var T=n(44);var F=C(T);var H=n(45);var O=C(H);var A=n(46);var N=C(A);function C(e){return e&&e.__esModule?e:{default:e}}var R={comment:a.default,full:s.default,fullWeb:o.default,fullExit:c.default,loading:N.default,loop:f.default,mute:p.default,play:m.default,pause:g.default,skip:w.default,volume1:x.default,volume2:k.default,decrease:L.default,increase:P.default,setting:F.default,back:O.default};t.default=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatTime=s;t.computeVolume=l;t.seekToSecondsText=o;t.performance=u;var r=t.Fullscreen={isFullscreen:function e(){return!!(document.webkitFullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)},requestFullscreen:function e(t){if(t.requestFullscreen){t.requestFullscreen()}else if(t.webkitRequestFullScreen){t.webkitRequestFullScreen()}else if(t.mozRequestFullScreen){t.mozRequestFullScreen()}else if(t.msRequestFullscreen){t.msRequestFullscreen()}else if(t.querySelector&&t.querySelector("mplayer-video")&&t.querySelector("mplayer-video").webkitEnterFullScreen){t.querySelector("mplayer-video").webkitEnterFullScreen()}else if(t.webkitEnterFullScreen){t.webkitEnterFullScreen()}},cancelFullscreen:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:document;if(t.exitFullscreen){t.exitFullscreen()}else if(t.webkitCancelFullScreen){t.webkitCancelFullScreen()}else if(t.webkitExitFullscreen){t.webkitExitFullscreen()}else if(t.mozCancelFullScreen){t.mozCancelFullScreen()}else if(t.msExitFullscreen){t.msExitFullscreen()}},fullscreenEnabled:function e(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}};var a=t.requestAnimationFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}).bind(window);var i=t.cancelAnimationFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout).bind(window);function s(e){var t=void 0,n=void 0;t=Math.floor(e/60);if(t<10)t="0"+t;n=Math.floor(e%60);if(n<10)n="0"+n;if(isNaN(t)||isNaN(n)){return"--:--"}return t+":"+n}function l(e){e=e>100?100:e;e=e<0?0:e;e=parseInt(e);return{normal:e,fix:(e/100).toFixed(2)}}function o(e,t){var n=0;if(e<t){n=parseInt(t-e);return"快进 "+n+" 秒"}else{n=parseInt(e-t);return"快退 "+n+" 秒"}}function u(){if(window.performance&&window.performance.now){return window.performance.now()}return Date.now()}t.default={Fullscreen:r,requestAnimationFrame:a,cancelAnimationFrame:i,formatTime:s,seekToSecondsText:o,performance:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={NativeDash:"dash",NativeHls:"hls",NativeFlv:"flv",HtmlMediaElement:"html5"};t.default=r},function(e,t,n){"use strict";t.__esModule=true;t.HandlebarsEnvironment=h;function r(e){return e&&e.__esModule?e:{default:e}}var a=n(0);var i=n(1);var s=r(i);var l=n(16);var o=n(24);var u=n(26);var c=r(u);var d="4.0.12";t.VERSION=d;var f=7;t.COMPILER_REVISION=f;var v={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=v;var p="[object Object]";function h(e,t,n){this.helpers=e||{};this.partials=t||{};this.decorators=n||{};l.registerDefaultHelpers(this);o.registerDefaultDecorators(this)}h.prototype={constructor:h,logger:c["default"],log:c["default"].log,registerHelper:function e(t,n){if(a.toString.call(t)===p){if(n){throw new s["default"]("Arg not supported with multiple helpers")}a.extend(this.helpers,t)}else{this.helpers[t]=n}},unregisterHelper:function e(t){delete this.helpers[t]},registerPartial:function e(t,n){if(a.toString.call(t)===p){a.extend(this.partials,t)}else{if(typeof n==="undefined"){throw new s["default"]('Attempting to register a partial called "'+t+'" as undefined')}this.partials[t]=n}},unregisterPartial:function e(t){delete this.partials[t]},registerDecorator:function e(t,n){if(a.toString.call(t)===p){if(n){throw new s["default"]("Arg not supported with multiple decorators")}a.extend(this.decorators,t)}else{this.decorators[t]=n}},unregisterDecorator:function e(t){delete this.decorators[t]}};var m=c["default"].log;t.log=m;t.createFrame=a.createFrame;t.logger=c["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={PLAY:"play",PAUSE:"pause",PLAYED:"played",STOP:"stop",LOADING:"loading",LOADED:"loaded",ERROR:"error"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();n(53);var l=n(3);var a=x(l);var i=n(11);var s=x(i);var o=n(12);var u=x(o);var c=n(47);var d=n(5);var f=n(48);var v=x(f);var p=n(49);var h=x(p);var m=n(50);var y=x(m);var g=n(51);var b=x(g);var w=n(52);var E=x(w);function x(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var k=0;var M=function(){function n(e){S(this,n);var t=k;this.options={};this.options=(0,s.default)(e);this.options.ayayaId=t;this.inited=false;this.element=(0,u.default)(this.options);this.video=this.element.getElementsByClassName("ayaya-video")[0];this.volume=this.options.volume;this.event=new a.default;this.init();k++}r(n,[{key:"initEvent",value:function e(){var t=this.event,n=this.infoPanel;t.register(l.EVENTS.STATS,function(e){n.trigger(e)});t.register(l.EVENTS.P2P_STATS,function(e){n.triggerP2P(e)})}},{key:"init",value:function e(){var t=this;var n=this.video,r=this.event,a=this.options;var i=a.video.src;if(a.type&&a.type==="auto"){a.type=(0,c.nativeType)(i)}this.inited=(0,c.initMediaSource)(n,a.type,i,r);n.volume=(0,d.computeVolume)(a.volume).fix;this.infoPanel=new b.default(this);this.initEvent();this.notice=new h.default(this);this.screen=new y.default(this);this.controller=new v.default(this);this.menu=new E.default({element:this.element,menus:[{name:"复制视频网址",class:"copy-el1",func:function e(){}},{name:"循环播放",func:function e(){t.controller._loop()}},{name:"无法播放反馈",func:function e(){window.location.href="http://www.srsg.moe/feedback/player/error_reply?backurl="+window.location.href}},{name:"详细统计信息",func:function e(){t.infoPanel.open()}}]})}},{key:"play",value:function e(){var t=this.video,n=this.event,r=this.inited;if(!r){console.warn("Ayaya not initialize media source!! Please set the media information in video.src ")}t.play();this.controller.listener();n.dispatch(l.EVENTS.PLAY)}},{key:"pause",value:function e(){var t=this.video,n=this.event,r=this.controller;t.pause();r.removeListener();clearInterval(this.panelUpdateIv);n.dispatch(l.EVENTS.PAUSE)}},{key:"stop",value:function e(){var t=this.video,n=this.event,r=this.controller;t.stop();r.removeListener();r.resetLoadBar();clearInterval(this.panelUpdateIv);n.dispatch(l.EVENTS.STOP)}},{key:"seek",value:function e(t){var n=this.video,r=this.event,a=this.notice;var i=n.currentTime;if(t===undefined||isNaN(t))return i;var s=(0,d.seekToSecondsText)(i,t);a.showAutoHide(s);n.currentTime=t;r.dispatch(l.EVENTS.SEEK,t);return this}},{key:"playbackRate",value:function e(t){var n=this.video,r=this.controller.settings,a=this.event;n.playbackRate=t;r.playSpeedText.innerText=t===1?"正常":t;a.dispatch(l.EVENTS.PLAYER_PLAYBACK_RATE,t)}},{key:"setVolume",value:function e(t){var n=this.controller,r=this.infoPanel,a=this.event;r.setVolumeText(t);a.dispatch(l.EVENTS.PLAYER_VOLUME_UPDATE,t);n.setVolume(t)}},{key:"setInfoPanel",value:function e(t,n){this.infoPanel.setVideoId(t);this.infoPanel.setSourceHost(n)}},{key:"showStats",value:function e(t){this.notice.showStats(t)}},{key:"screenFull",value:function e(t){var n=this.screen;if(t==="screen"){n.screenFull()}else{n.webFull()}}},{key:"on",value:function e(t,n){var r=this.event;if(typeof n==="function"){r.register(t,n)}}},{key:"off",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r=this.event;r.unregister(t,n)}},{key:"destroy",value:function e(){this.event.dispatch(l.EVENTS.DESTROY);clearInterval(this.panelUpdateIv);this.controller.destroy();this.notice.destroy();this.infoPanel.destroy();this.screen.destroy();this.menu.destroy();this.event.destroy();this.element.classList.remove("ayaya-wrapper");this.element.innerHTML="";this.options=null}}]);return n}();t.default=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function i(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=function(e){i(n,e);function n(e){r(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.name="EventNoFoundException";return t}return n}(Error);var l=function(e){i(n,e);function n(e){r(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.name="EventMethodNoFoundException";return t}return n}(Error);var o=function(e){i(n,e);function n(e){r(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.name="EventDispatchException";return t}return n}(Error);t.EventNoFoundException=s;t.EventMethodNoFoundException=l;t.EventDispatchException=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(6);var a=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=/mobile/i.test(window.navigator.userAgent);var n={element:e.element||document.getElementsByClassName("ayaya")[0],type:e.type||a.default.HtmlMediaElement,preload:"auto",quality:false,mobile:false,hotkey:false,autoplay:false,loop:false,volume:40};if(t){e.autoplay=false;e.mobile=true}for(var r in n){if(n.hasOwnProperty(r)&&!e.hasOwnProperty(r)){e[r]=n[r]}}if(!e.video){e.video={poster:"",src:""}}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(13);var a=l(r);var i=n(4);var s=l(i);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.element;var n={index:e.ayayaId,version:"1.3.1",gitHash:"94803f4",currentUrl:window.location.href,Icons:s.default,src:e.video.src,poster:e.video.poster};var r=(0,a.default)(n);t.classList.add("ayaya-wrapper");t.innerHTML=r;return t}},function(e,t,n){var r=n(14);function a(e){return e&&(e.__esModule?e["default"]:e)}e.exports=(r["default"]||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,a){var i,s,l=t!=null?t:e.nullContext||{},o=n.helperMissing,u="function",c=e.escapeExpression,d=e.lambda;return'<div class="video-wrapper">\r\n    <video class="ayaya-video ayaya-index'+c((s=(s=n.index||(t!=null?t.index:t))!=null?s:o,typeof s===u?s.call(l,{name:"index",hash:{},data:a}):s))+'" meted="meted" poster="'+c((s=(s=n.poster||(t!=null?t.poster:t))!=null?s:o,typeof s===u?s.call(l,{name:"poster",hash:{},data:a}):s))+'"></video>\r\n</div>\r\n<div class="info-panel">\r\n    <a class="close" title="关闭">[x]</a>\r\n    <ul class="items">\r\n        <li>\r\n            <span class="name">Player:</span>\r\n            <span class="v">Ayaya@'+c((s=(s=n.version||(t!=null?t.version:t))!=null?s:o,typeof s===u?s.call(l,{name:"version",hash:{},data:a}):s))+"-"+c((s=(s=n.gitHash||(t!=null?t.gitHash:t))!=null?s:o,typeof s===u?s.call(l,{name:"gitHash",hash:{},data:a}):s))+'</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Support Mode:</span>\r\n            <span class="v">html5, flv, hls, M(PEG)-Dash</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Current Mode:</span>\r\n            <span class="v player-mode">default</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Video ID:</span>\r\n            <span class="v vid">-</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Viewport:</span>\r\n            <span class="v viewport">900x506</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Volume:</span>\r\n            <span class="v volume">40</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Codecs:</span>\r\n            <span class="v codecs">video/mp4;codecs="avc1.640028"</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Host:</span>\r\n            <span class="v host">-</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Connection Speed:</span>\r\n            <span class="v right connection-speed">-</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">P2P Speed:</span>\r\n            <span class="v right p2p-speed">-</span>\r\n        </li>\r\n        <li>\r\n            <span class="name">Dropped/Totalframes:</span>\r\n            <span class="v dropped-frames">0</span>\r\n        </li>\r\n    </ul>\r\n</div>\r\n<div class="hidden">\r\n    <div class="copy-location">'+c((s=(s=n.currentUrl||(t!=null?t.currentUrl:t))!=null?s:o,typeof s===u?s.call(l,{name:"currentUrl",hash:{},data:a}):s))+'</div>\r\n</div>\r\n<div class="context-menu">\r\n    <ul></ul>\r\n</div>\r\n<div class="video-play-status-mask">\r\n    <div class="icon play-status">'+((i=d((i=t!=null?t.icons:t)!=null?i.play:i,t))!=null?i:"")+'</div>\r\n</div>\r\n\r\n<div class="video-notice">\r\n    <span>10%</span>\r\n</div>\r\n<div class="video-stats">\r\n    '+((i=d((i=t!=null?t.Icons:t)!=null?i.play:i,t))!=null?i:"")+'\r\n</div>\r\n<div class="video-waiting">\r\n    '+((i=d((i=t!=null?t.Icons:t)!=null?i.loading:i,t))!=null?i:"")+'\r\n</div>\r\n\r\n<div class="control-mask"></div>\r\n<div class="controls">\r\n<div class="control-bar">\r\n    <div class="seek-timer-label">00:00</div>\r\n        <div class="bar-player-time hidden">00:00</div>\r\n        <div class="load-bar">\r\n            <div class="loaded" style="width: 0"></div>\r\n            <div class="played" style="width: 0">\r\n                <span class="after"></span>\r\n            </div>\r\n            <div class="hover" style="width: 0"></div>\r\n        </div>\r\n    </div>\r\n    <div class="control left">\r\n        <button class="icon button-play">\r\n            '+((i=d((i=t!=null?t.Icons:t)!=null?i.play:i,t))!=null?i:"")+'\r\n        </button>\r\n        <button class="icon button-next hidden">\r\n            '+((i=d((i=t!=null?t.Icons:t)!=null?i.skip:i,t))!=null?i:"")+'\r\n        </button>\r\n        <div class="volume-box">\r\n            <button class="icon button-volume">\r\n                '+((i=d((i=t!=null?t.Icons:t)!=null?i.volume1:i,t))!=null?i:"")+'\r\n            </button>\r\n            <div class="volume-bar-box">\r\n                <div class="volume-bar">\r\n                    <div class="volume-bar-inner" style="width: 45%"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="play-time">\r\n            <span class="play-current">00:00</span> / <span class="play-duration">00:00</span>\r\n        </div>\r\n    </div>\r\n    <div class="control right">\r\n        <input type="checkbox" id="mplayer-chk'+c((s=(s=n.index||(t!=null?t.index:t))!=null?s:o,typeof s===u?s.call(l,{name:"index",hash:{},data:a}):s))+'" class="button-settings-checkbox hidden"/>\r\n        <label for="mplayer-chk'+c((s=(s=n.index||(t!=null?t.index:t))!=null?s:o,typeof s===u?s.call(l,{name:"index",hash:{},data:a}):s))+'" class="icon button-settings">\r\n            '+((i=d((i=t!=null?t.Icons:t)!=null?i.setting:i,t))!=null?i:"")+'\r\n        </label>\r\n        <div class="control-settings">\r\n            <ul class="setting-group">\r\n                <li class="play-speed">播放速度：<span class="text">正常</span>'+((i=d((i=t!=null?t.Icons:t)!=null?i.back:i,t))!=null?i:"")+'</li>\r\n                <li class="mirror">镜像模式：<span class="text">关</span></li>\r\n                <li class="hotkey">方向热键：<span class="text">开启</span></li>\r\n                <li class="loop">洗脑循环：<span class="text">关闭</span></li>\r\n            </ul>\r\n            <ul class="play-speed-box hidden">\r\n                <li class="line">'+((i=d((i=t!=null?t.Icons:t)!=null?i.back:i,t))!=null?i:"")+' 速度</li>\r\n                <li data-spd="0.5">0.50</li>\r\n                <li data-spd="0.75">0.75</li>\r\n                <li data-spd="1" class="active">正常</li>\r\n                <li data-spd="1.25">1.25</li>\r\n                <li data-spd="1.5">1.50</li>\r\n                <li data-spd="2">2</li>\r\n            </ul>\r\n        </div>\r\n        <div class="full-screen-group">\r\n            <button class="icon button-web-full-screen">'+((i=d((i=t!=null?t.Icons:t)!=null?i.fullWeb:i,t))!=null?i:"")+'</button>\r\n            <button class="icon button-full-screen">'+((i=d((i=t!=null?t.Icons:t)!=null?i.full:i,t))!=null?i:"")+"</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"},useData:true})},function(e,t,n){e.exports=n(15)["default"]},function(e,t,n){"use strict";t.__esModule=true;function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}}var i=n(7);var s=a(i);var l=n(27);var o=r(l);var u=n(1);var c=r(u);var d=n(0);var f=a(d);var v=n(28);var p=a(v);var h=n(29);var m=r(h);function y(){var t=new s.HandlebarsEnvironment;f.extend(t,s);t.SafeString=o["default"];t.Exception=c["default"];t.Utils=f;t.escapeExpression=f.escapeExpression;t.VM=p;t.template=function(e){return p.template(e,t)};return t}var g=y();g.create=y;m["default"](g);g["default"]=g;t["default"]=g;e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;t.registerDefaultHelpers=g;function r(e){return e&&e.__esModule?e:{default:e}}var a=n(17);var i=r(a);var s=n(18);var l=r(s);var o=n(19);var u=r(o);var c=n(20);var d=r(c);var f=n(21);var v=r(f);var p=n(22);var h=r(p);var m=n(23);var y=r(m);function g(e){i["default"](e);l["default"](e);u["default"](e);d["default"](e);v["default"](e);h["default"](e);y["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var s=n(0);t["default"]=function(i){i.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse,r=t.fn;if(e===true){return r(this)}else if(e===false||e==null){return n(this)}else if(s.isArray(e)){if(e.length>0){if(t.ids){t.ids=[t.name]}return i.helpers.each(e,t)}else{return n(this)}}else{if(t.data&&t.ids){var a=s.createFrame(t.data);a.contextPath=s.appendContextPath(t.data.contextPath,t.name);t={data:a}}return r(e,t)}})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;function r(e){return e&&e.__esModule?e:{default:e}}var f=n(0);var a=n(1);var v=r(a);t["default"]=function(e){e.registerHelper("each",function(r,e){if(!e){throw new v["default"]("Must pass iterator to #each")}var a=e.fn,t=e.inverse,n=0,i="",s=undefined,l=undefined;if(e.data&&e.ids){l=f.appendContextPath(e.data.contextPath,e.ids[0])+"."}if(f.isFunction(r)){r=r.call(this)}if(e.data){s=f.createFrame(e.data)}function o(e,t,n){if(s){s.key=e;s.index=t;s.first=t===0;s.last=!!n;if(l){s.contextPath=l+e}}i=i+a(r[e],{data:s,blockParams:f.blockParams([r[e],e],[l+e,null])})}if(r&&typeof r==="object"){if(f.isArray(r)){for(var u=r.length;n<u;n++){if(n in r){o(n,n,n===r.length-1)}}}else{var c=undefined;for(var d in r){if(r.hasOwnProperty(d)){if(c!==undefined){o(c,n-1)}c=d;n++}}if(c!==undefined){o(c,n-1,true)}}}if(n===0){i=t(this)}return i})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1);var i=r(a);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new i["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var r=n(0);t["default"]=function(n){n.registerHelper("if",function(e,t){if(r.isFunction(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||r.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});n.registerHelper("unless",function(e,t){return n.helpers["if"].call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;t["default"]=function(a){a.registerHelper("log",function(){var e=[undefined],t=arguments[arguments.length-1];for(var n=0;n<arguments.length-1;n++){e.push(arguments[n])}var r=1;if(t.hash.level!=null){r=t.hash.level}else if(t.data&&t.data.level!=null){r=t.data.level}e[0]=r;a.log.apply(a,e)})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var a=n(0);t["default"]=function(e){e.registerHelper("with",function(e,t){if(a.isFunction(e)){e=e.call(this)}var n=t.fn;if(!a.isEmpty(e)){var r=t.data;if(t.data&&t.ids){r=a.createFrame(t.data);r.contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])}return n(e,{data:r,blockParams:a.blockParams([e],[r&&r.contextPath])})}else{return t.inverse(this)}})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;t.registerDefaultDecorators=s;function r(e){return e&&e.__esModule?e:{default:e}}var a=n(25);var i=r(a);function s(e){i["default"](e)}},function(e,t,n){"use strict";t.__esModule=true;var l=n(0);t["default"]=function(e){e.registerDecorator("inline",function(a,i,s,e){var t=a;if(!i.partials){i.partials={};t=function(e,t){var n=s.partials;s.partials=l.extend({},n,i.partials);var r=a(e,t);s.partials=n;return r}}i.partials[e.args[0]]=e.fn;return t})};e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;var r=n(0);var s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function e(t){if(typeof t==="string"){var n=r.indexOf(s.methodMap,t.toLowerCase());if(n>=0){t=n}else{t=parseInt(t,10)}}return t},log:function e(t){t=s.lookupLevel(t);if(typeof console!=="undefined"&&s.lookupLevel(s.level)<=t){var n=s.methodMap[t];if(!console[n]){n="log"}for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++){a[i-1]=arguments[i]}console[n].apply(console,a)}}};t["default"]=s;e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;function r(e){this.string=e}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string};t["default"]=r;e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=true;t.checkRevision=o;t.template=u;t.wrapProgram=f;t.resolvePartial=v;t.invokePartial=p;t.noop=h;function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}}var i=n(0);var c=a(i);var s=n(1);var d=r(s);var l=n(7);function o(e){var t=e&&e[0]||1,n=l.COMPILER_REVISION;if(t!==n){if(t<n){var r=l.REVISION_CHANGES[n],a=l.REVISION_CHANGES[t];throw new d["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+a+").")}else{throw new d["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}}function u(l,o){if(!o){throw new d["default"]("No environment passed to template")}if(!l||!l.main){throw new d["default"]("Unknown template object: "+typeof l)}l.main.decorator=l.main_d;o.VM.checkRevision(l.compiler);function e(e,t,n){if(n.hash){t=c.extend({},t,n.hash);if(n.ids){n.ids[0]=true}}e=o.VM.resolvePartial.call(this,e,t,n);var r=o.VM.invokePartial.call(this,e,t,n);if(r==null&&o.compile){n.partials[n.name]=o.compile(e,l.compilerOptions,o);r=n.partials[n.name](t,n)}if(r!=null){if(n.indent){var a=r.split("\n");for(var i=0,s=a.length;i<s;i++){if(!a[i]&&i+1===s){break}a[i]=n.indent+a[i]}r=a.join("\n")}return r}else{throw new d["default"]("The partial "+n.name+" could not be compiled when running in runtime-only mode")}}var s={strict:function e(t,n){if(!(n in t)){throw new d["default"]('"'+n+'" not defined in '+t)}return t[n]},lookup:function e(t,n){var r=t.length;for(var a=0;a<r;a++){if(t[a]&&t[a][n]!=null){return t[a][n]}}},lambda:function e(t,n){return typeof t==="function"?t.call(n):t},escapeExpression:c.escapeExpression,invokePartial:e,fn:function e(t){var n=l[t];n.decorator=l[t+"_d"];return n},programs:[],program:function e(t,n,r,a,i){var s=this.programs[t],l=this.fn(t);if(n||i||a||r){s=f(this,t,l,n,r,a,i)}else if(!s){s=this.programs[t]=f(this,t,l)}return s},data:function e(t,n){while(t&&n--){t=t._parent}return t},merge:function e(t,n){var r=t||n;if(t&&n&&t!==n){r=c.extend({},n,t)}return r},nullContext:Object.seal({}),noop:o.VM.noop,compilerInfo:l.compiler};function u(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var n=t.data;u._setup(t);if(!t.partial&&l.useData){n=m(e,n)}var r=undefined,a=l.useBlockParams?[]:undefined;if(l.useDepths){if(t.depths){r=e!=t.depths[0]?[e].concat(t.depths):t.depths}else{r=[e]}}function i(e){return""+l.main(s,e,s.helpers,s.partials,n,a,r)}i=y(l.main,i,s,t.depths||[],n,a);return i(e,t)}u.isTop=true;u._setup=function(e){if(!e.partial){s.helpers=s.merge(e.helpers,o.helpers);if(l.usePartial){s.partials=s.merge(e.partials,o.partials)}if(l.usePartial||l.useDecorators){s.decorators=s.merge(e.decorators,o.decorators)}}else{s.helpers=e.helpers;s.partials=e.partials;s.decorators=e.decorators}};u._child=function(e,t,n,r){if(l.useBlockParams&&!n){throw new d["default"]("must pass block params")}if(l.useDepths&&!r){throw new d["default"]("must pass parent depths")}return f(s,e,l[e],t,0,n,r)};return u}function f(r,e,a,i,t,s,l){function n(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var n=l;if(l&&e!=l[0]&&!(e===r.nullContext&&l[0]===null)){n=[e].concat(l)}return a(r,e,r.helpers,r.partials,t.data||i,s&&[t.blockParams].concat(s),n)}n=y(a,n,r,l,i,s);n.program=e;n.depth=l?l.length:0;n.blockParams=t||0;return n}function v(e,t,n){if(!e){if(n.name==="@partial-block"){e=n.data["partial-block"]}else{e=n.partials[n.name]}}else if(!e.call&&!n.name){n.name=e;e=n.partials[e]}return e}function p(e,t,n){var a=n.data&&n.data["partial-block"];n.partial=true;if(n.ids){n.data.contextPath=n.ids[0]||n.data.contextPath}var i=undefined;if(n.fn&&n.fn!==h){(function(){n.data=l.createFrame(n.data);var r=n.fn;i=n.data["partial-block"]=function e(t){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];n.data=l.createFrame(n.data);n.data["partial-block"]=a;return r(t,n)};if(r.partials){n.partials=c.extend({},n.partials,r.partials)}})()}if(e===undefined&&i){e=i}if(e===undefined){throw new d["default"]("The partial "+n.name+" could not be found")}else if(e instanceof Function){return e(t,n)}}function h(){return""}function m(e,t){if(!t||!("root"in t)){t=t?l.createFrame(t):{};t.root=e}return t}function y(e,t,n,r,a,i){if(e.decorator){var s={};t=e.decorator(t,s,n,r&&r[0],a,i,r);c.extend(t,s)}return t}},function(e,t,n){"use strict";(function(r){t.__esModule=true;t["default"]=function(e){var t=typeof r!=="undefined"?r:window,n=t.Handlebars;e.noConflict=function(){if(t.Handlebars===e){t.Handlebars=n}return e}};e.exports=t["default"]}).call(this,n(30))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){if(typeof window==="object")n=window}e.exports=n},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M878.066 125.957H145.9c-28.58 0-51.756 23.171-51.756 51.756v495.133c0 28.58 23.177 51.756 51.756 51.756h97.547v133.71c0 10.434 4.317 24.496 18.623 33.004 19.008 11.305 40.423 1.048 45.33-3.806l148.443-162.906h422.222c28.611 0 51.788-23.177 51.788-51.757V177.714c.001-28.58-23.176-51.756-51.787-51.756zm-13.588 535.705H421.404l-116.98 131.96v-131.96H158.66V186.968h705.82v474.694zM252.095 448.088H761.9c14.98 0 27.082-16.046 27.082-30.963 0-14.975-12.101-30.993-27.082-30.993H252.095c-14.918 0-27.055 16.014-27.055 30.993 0 14.919 12.135 30.963 27.055 30.963zm.975-125.875h509.81c14.975 0 27.081-16.05 27.081-30.999 0-14.946-12.106-30.018-27.082-30.018H253.07c-14.914 0-27.047 15.071-27.047 30.018 0 14.952 12.135 30.999 27.048 30.999zM604.356 511.03H253.07c-14.915 0-27.048 18-27.048 32.95 0 14.945 13.11 29.036 28.03 29.036h352.26c14.981 0 25.129-15.066 25.129-30.011-.002-14.952-12.108-31.975-27.084-31.975z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M213.333 896H42.667C17.067 896 0 878.933 0 853.333V682.667C0 657.067 17.067 640 42.667 640s42.666 17.067 42.666 42.667v128h128c25.6 0 42.667 17.066 42.667 42.666S238.933 896 213.333 896zM981.333 896H810.667c-25.6 0-42.667-17.067-42.667-42.667s17.067-42.666 42.667-42.666h128v-128c0-25.6 17.066-42.667 42.666-42.667S1024 657.067 1024 682.667v170.666c0 25.6-17.067 42.667-42.667 42.667zM981.333 384c-25.6 0-42.666-17.067-42.666-42.667v-128h-128c-25.6 0-42.667-17.066-42.667-42.666S785.067 128 810.667 128h170.666c25.6 0 42.667 17.067 42.667 42.667v170.666c0 25.6-17.067 42.667-42.667 42.667zM42.667 384C17.067 384 0 366.933 0 341.333V170.667C0 145.067 17.067 128 42.667 128h170.666c25.6 0 42.667 17.067 42.667 42.667s-17.067 42.666-42.667 42.666h-128v128c0 25.6-17.066 42.667-42.666 42.667z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M798.878 780.17H218.663c-43.717 0-79.28-35.604-79.28-79.281V323.11c0-43.638 35.563-79.28 79.28-79.28h580.215c43.716 0 79.28 35.603 79.28 79.28V700.89c0 43.638-35.524 79.28-79.28 79.28zM218.663 323.11V700.89h580.293l-.078-377.778H218.663zM79.281 925.696h190.464c21.898 0 39.621-17.723 39.621-39.66 0-21.898-17.723-39.621-39.62-39.621H79.28v-185.66c0-21.897-17.723-39.66-39.62-39.66S0 638.897 0 660.755v185.66c0 43.677 35.564 79.281 79.281 79.281zM984.34 621.174c-21.898 0-39.621 17.723-39.621 39.621v185.62H754.294c-21.937 0-39.66 17.723-39.66 39.62 0 21.938 17.723 39.661 39.66 39.661H944.72c43.717 0 79.281-35.564 79.281-79.281v-185.62c0-21.858-17.723-39.62-39.66-39.62zM0 177.585v185.66c0 21.858 17.723 39.62 39.62 39.62s39.622-17.762 39.622-39.62v-185.66h190.464c21.898 0 39.62-17.723 39.62-39.62s-17.722-39.622-39.62-39.622H79.28C35.564 98.304 0 133.908 0 177.585zm1024 185.62v-185.62c0-43.677-35.525-79.281-79.281-79.281H754.294c-21.937 0-39.66 17.723-39.66 39.62s17.723 39.622 39.66 39.622H944.72v185.62c0 21.858 17.723 39.581 39.62 39.581 21.938.079 39.661-17.684 39.661-39.542z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M960 384H789.333c-25.6 0-42.666-17.067-42.666-42.667V170.667c0-25.6 17.066-42.667 42.666-42.667S832 145.067 832 170.667v128h128c25.6 0 42.667 17.066 42.667 42.666S985.6 384 960 384zM234.667 384H64c-25.6 0-42.667-17.067-42.667-42.667S38.4 298.667 64 298.667h128v-128c0-25.6 17.067-42.667 42.667-42.667s42.666 17.067 42.666 42.667v170.666c0 25.6-17.066 42.667-42.666 42.667zM234.667 896c-25.6 0-42.667-17.067-42.667-42.667v-128H64c-25.6 0-42.667-17.066-42.667-42.666S38.4 640 64 640h170.667c25.6 0 42.666 17.067 42.666 42.667v170.666c0 25.6-17.066 42.667-42.666 42.667zM789.333 896c-25.6 0-42.666-17.067-42.666-42.667V682.667c0-25.6 17.066-42.667 42.666-42.667H960c25.6 0 42.667 17.067 42.667 42.667S985.6 725.333 960 725.333H832v128c0 25.6-17.067 42.667-42.667 42.667z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M848.589 427.434c-37.972-152.983-176.097-266.828-340.634-266.828-121.82 0-233.176 61.668-297.917 164.97-8.095 12.951-4.203 30.037 8.754 38.126 12.957 8.17 30.037 4.204 38.167-8.753 54.59-87.075 148.434-139.015 251.032-139.015 133.61 0 245.584 89.604 282.238 211.5H687.863l137.185 169.132 137.23-169.132h-113.69zm-43.341 232.864c-12.917-8.13-30.037-4.164-38.167 8.753-54.59 87.076-148.398 139.015-250.996 139.015-133.686 0-245.624-89.64-282.273-211.54h102.366l-137.23-169.092L61.721 596.566H175.37c38.013 152.983 176.138 266.828 340.675 266.828 121.704 0 233.136-61.668 297.917-164.93 8.17-12.996 4.202-30.037-8.714-38.166zm0 0"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M704 512c0-75.307-43.52-140.373-106.667-171.733v94.293L702.08 539.307c1.28-8.96 1.92-18.134 1.92-27.307zm106.667 0c0 40.107-8.747 77.867-23.04 112.64l64.64 64.64C880 636.16 896 576 896 512c0-182.613-127.787-335.36-298.667-374.187v88.107C720.64 262.613 810.667 376.747 810.667 512zM182.4 128L128 182.4 329.6 384H128v256h170.667L512 853.333V566.4l181.547 181.547c-28.587 21.973-60.8 39.68-96.214 50.346V886.4C656 872.96 709.547 846.08 754.56 809.173L841.6 896l54.4-54.4L182.4 128zM512 170.667l-89.173 89.173L512 349.013V170.667z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M234.612 152.734v718.532l554.775-338.981z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M609.09 858.613h194.181V178.98h-194.18M220.728 858.613h194.18V178.98H220.73v679.633z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M719.126 822.69H822.69V201.31H719.126M201.311 822.69L641.454 512 201.31 201.31v621.38z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M704 512c0-75.52-43.52-140.373-106.667-171.947V683.52C660.48 652.373 704 587.52 704 512zM128 384v256h170.667L512 853.333V170.667L298.667 384H128z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M128 384v256h170.667L512 853.333V170.667L298.667 384H128zm576 128c0-75.52-43.52-140.373-106.667-171.947V683.52C660.48 652.373 704 587.52 704 512zM597.333 137.813v87.894C720.64 262.4 810.667 376.747 810.667 512S720.64 761.6 597.333 798.293v87.894C768.427 847.36 896 694.613 896 512S768.427 176.64 597.333 137.813z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M512 455.75h450v112.5H512v-112.5zm-84.375 450a28.35 28.35 0 0 1-19.913-8.213L190.925 680.75H90.069a28.125 28.125 0 0 1-28.125-28.125v-281.25a28.125 28.125 0 0 1 28.125-28.125h100.856l216.787-216.787a28.069 28.069 0 0 1 48.038 19.912v731.25a28.125 28.125 0 0 1-28.125 28.125z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M962 568.25H793.25V737h-112.5V568.25H512v-112.5h168.75V287h112.5v168.75H962v112.5zm-534.375 337.5a28.35 28.35 0 0 1-19.913-8.213L190.925 680.75H90.069a28.125 28.125 0 0 1-28.125-28.125v-281.25a28.125 28.125 0 0 1 28.125-28.125h100.856l216.787-216.787a28.069 28.069 0 0 1 48.038 19.912v731.25a28.125 28.125 0 0 1-28.125 28.125z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M876.307 477.092l-.415.046c-1.474-14.462-12.942-25.93-27.358-27.358h-16.857v-.23c-18.054 0-33.714-10.409-41.221-25.608-1.796-3.73-3.178-7.691-3.915-11.929-3.408-9.442-7.231-18.653-11.56-27.634 0-.046 0-.046-.047-.046a44.275 44.275 0 0 1-5.204-10.317v-.046a45.846 45.846 0 0 1-2.625-15.337c0-12.712 5.112-24.227 13.495-32.517h-.047l9.35-9.35c.138-.092.23-.184.369-.322.092-.138.23-.23.322-.368 10.916-11.238 11.468-28.74 1.75-40.67l.184-.137c-7.185-8.613-14.692-16.857-22.568-24.687a352.377 352.377 0 0 0-25.285-23.075l-.092.092c-10.778-8.843-26.253-9.12-37.399-.967l-6.724 6.724-6.356 6.264-.276-.276c-13.403 13.448-33.07 16.857-49.65 10.178-2.257-.875-4.422-1.98-6.54-3.224a299.885 299.885 0 0 0-32.747-13.494c-1.98-.507-3.915-1.198-5.85-1.98 0 0-.046 0-.046-.047-5.48-2.165-10.685-5.573-15.152-10.04-7.508-7.508-11.837-16.996-13.127-26.76a43.81 43.81 0 0 1 0-11.514v-7.922c0-15.107-10.916-27.635-25.285-30.214a195.557 195.557 0 0 0-5.389-.46h.046c-10.133-.783-20.357-1.244-30.674-1.244s-20.542.46-30.674 1.29c-1.797.138-3.593.276-5.39.46-14.37 2.533-25.285 15.107-25.285 30.168v13.68c0 19.758-12.435 36.615-29.891 43.109-1.105.46-2.257.829-3.408 1.151-12.298 4.145-24.18 9.073-35.603 14.785-.092 0-.092.046-.138.046-.921.506-1.796.92-2.763 1.381-5.85 2.672-12.298 4.146-19.16 4.146a45.724 45.724 0 0 1-32.517-13.495l-.046.092-9.718-9.672c-10.685-10.685-27.174-11.837-39.103-3.547a157.267 157.267 0 0 0-4.053 3.363l-.184.184c-7.83 6.632-15.383 13.54-22.614 20.772a368.11 368.11 0 0 0-20.726 22.522s-.046 0-.046.046a153.344 153.344 0 0 0-3.5 4.191c-8.383 11.975-7.185 28.51 3.5 39.195l9.672 9.672c13.91 13.955 17.041 34.589 9.35 51.538-.461 1.06-.968 2.119-1.566 3.132a284.421 284.421 0 0 0-14.693 35.464c-.368 1.336-.829 2.58-1.335 3.823v.046c-2.211 5.803-5.666 11.33-10.41 15.982-8.98 8.981-20.725 13.495-32.516 13.495v.138h-13.68c-15.106 0-27.634 10.87-30.213 25.24-.184 1.75-.368 3.546-.506 5.388-.83 9.902-1.244 20.588-1.244 30.674v.507c0 10.179.415 20.219 1.244 30.121v.046c.138 1.797.322 3.593.506 5.39 2.58 14.369 15.061 25.285 30.122 25.285H186.597c19.574 0 36.293 12.25 42.926 29.522V602c.46 1.152.829 2.303 1.105 3.455.046.046.046.138.138.23 4.1 12.251 9.073 24.134 14.738 35.602.047.046.092.138.139.185.506.875.92 1.796 1.381 2.763 2.672 5.85 4.191 12.343 4.191 19.16a45.724 45.724 0 0 1-13.494 32.516l.046.047-9.35 9.35c-.138.091-.23.23-.368.322-.138.138-.23.23-.323.368-10.224 10.547-11.376 26.621-3.454 38.412 1.336 1.612 2.671 3.224 4.007 4.79 6.54 7.738 13.403 15.153 20.588 22.338 7.185 7.185 14.646 14.093 22.384 20.633 1.566 1.336 3.132 2.626 4.698 3.915 10.639 7.185 24.778 6.909 35.187-.69l6.725-6.725 6.31-6.31.276.23c13.955-13.909 34.635-17.04 51.63-9.303.875.368 1.75.829 2.58 1.243.046.046.138.046.23.139a286.253 286.253 0 0 0 35.925 14.922 62.4 62.4 0 0 1 3.132 1.06 46.707 46.707 0 0 1 16.58 10.593c8.981 8.981 13.495 20.726 13.495 32.516h.138v13.541c0 15.844 12.021 28.924 27.497 30.49v.184c11.1 1.06 22.337 1.566 33.76 1.566 11.422 0 22.66-.506 33.806-1.566l-.046-.184c15.429-1.566 27.542-14.646 27.542-30.49v-13.679c0-18.469 10.87-34.359 26.529-41.682 3.178-1.52 6.54-2.625 10.04-3.362 10.087-3.547 19.897-7.6 29.431-12.251 2.764-1.797 5.757-3.316 8.843-4.422a45.338 45.338 0 0 1 16.12-2.948c11.653 0 22.338 4.376 30.49 11.607a39.676 39.676 0 0 1 3.961 3.915l7.83 7.876.046-.046c10.777 10.777 27.68 11.836 39.655 3.177.047 0 .092-.046.139-.138 1.013-.829 1.98-1.612 2.947-2.44a377.697 377.697 0 0 0 23.213-21.325c7.415-7.415 14.554-15.153 21.325-23.213l2.625-3.178c8.429-11.56 7.692-27.635-2.072-38.458l-.047-.046-2.21-2.165-8.567-8.566v-.047c-13.725-13.725-16.95-33.944-9.718-50.709.69-1.566 1.427-3.132 2.303-4.606 5.434-11.053 10.178-22.522 14.231-34.312.46-1.566.921-3.132 1.566-4.606 2.211-5.757 5.665-11.1 10.317-15.752 8.935-8.935 20.726-13.448 32.517-13.448v-.046h13.218v-.185c16.397 0 29.8-12.896 30.582-29.062l.46.046a372.758 372.758 0 0 0 1.383-32.148c0-11.468-.553-22.798-1.566-33.99zm-178.565 33.99c0 21.463-3.546 42.097-10.178 61.303-2.488 7.323-5.481 14.462-8.797 21.324-9.166 18.838-21.463 35.925-36.063 50.664-14.647 14.692-31.688 26.99-50.48 36.247a179.54 179.54 0 0 1-21.508 8.98c-19.206 6.725-39.84 10.318-61.302 10.41h-.553c-21.279 0-41.682-3.5-60.75-9.995-7.691-2.579-15.107-5.665-22.245-9.165a187.67 187.67 0 0 1-50.295-35.925c-14.738-14.646-27.036-31.641-36.247-50.479a177.595 177.595 0 0 1-9.212-22.015c-6.54-19.114-10.132-39.564-10.178-60.888.046-21.279 3.592-42.695 10.178-61.763a182.24 182.24 0 0 1 9.166-22.062 188.68 188.68 0 0 1 36.247-50.478c14.738-14.647 31.826-26.898 50.663-36.11 7.047-3.408 14.37-6.447 21.877-8.98 19.068-6.495 39.471-9.995 60.75-9.995h.553c21.508.092 42.142 3.73 61.348 10.363 7.37 2.533 14.554 5.573 21.463 8.981 18.837 9.258 35.879 21.6 50.525 36.247a191.982 191.982 0 0 1 35.925 50.295c3.408 7 6.448 14.231 8.98 21.693 6.587 19.16 10.18 39.747 10.18 61.118v.23h-.047z"></path></svg>'},function(e,t){e.exports='<svg class="svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><defs><style></style></defs><path d="M655.331 894.933l72.757-71.003-326.086-310.307 326.086-310.307-72.757-71.004-398.84 381.31 398.84 381.31z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><g transform="rotate(.24 50 50)"><animateTransform attributeName="transform" type="rotate" values="360 50 50;0 50 50" keyTimes="0;1" dur="1.5s" repeatCount="indefinite" calcMode="spline" keySplines="0.5 0 0.5 1" begin="-0.15000000000000002s"></animateTransform><circle cx="50" cy="50" r="39.891" stroke="#ffc254" stroke-width="14.4" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;55.1413599195142 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle><circle cx="50" cy="50" r="39.891" stroke="#fff1cf" stroke-width="7.2" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;55.1413599195142 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle><circle cx="50" cy="50" r="32.771" stroke="#000" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;45.299378454348094 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle><circle cx="50" cy="50" r="47.171" stroke="#000" fill="none" stroke-dasharray="0 300"><animate attributeName="stroke-dasharray" values="15 300;66.03388996804073 300;15 300" keyTimes="0;0.5;1" dur="1.5s" repeatCount="indefinite" calcMode="linear" keySplines="0 0.4 0.6 1;0.4 0 1 0.6" begin="-0.069s"></animate></circle></g><g transform="rotate(7.842 50 50)"><animateTransform attributeName="transform" type="rotate" values="360 50 50;0 50 50" keyTimes="0;1" dur="1.5s" repeatCount="indefinite" calcMode="spline" keySplines="0.5 0 0.5 1"></animateTransform><path fill="#ffc254" stroke="#000" d="M97.2 50c0 6.1-1.2 12.2-3.5 17.8l-13.3-5.4c1.6-3.9 2.4-8.2 2.4-12.4"></path><path fill="#fff1cf" d="M93.6 49.9c0 1.2 0 2.4-.1 3.6l-.5 3.6c-.4 2-2.3 3.3-4.2 2.8l-.2-.1c-1.8-.5-3.1-2.3-2.7-3.9l.4-3c.1-1 .1-2 .1-3"></path><path fill="#ffc254" stroke="#000" d="M85.4 62.5c-.2.7-.5 1.4-.8 2.1-.3.7-.6 1.4-.9 2-.6 1.1-2 1.4-3.2.8-1.1-.7-1.7-2-1.2-2.9.3-.6.5-1.2.8-1.8.2-.6.6-1.2.7-1.8M94.5 65.7c-.3.9-.7 1.7-1 2.6-.4.8-.7 1.7-1.1 2.5-.7 1.4-2.3 1.9-3.4 1.3-1.1-.7-1.5-2.2-.9-3.4.4-.8.7-1.5 1-2.3.3-.8.7-1.5.9-2.3M85.6 67c0 .8.1 1.6.3 2.4.6-.5 1.1-1 1.4-1.7.2-.7.2-1.5-.1-2.2-.7-1.5-1.6.8-1.6 1.5z"></path></g><g transform="rotate(.24 50 50)"><animateTransform attributeName="transform" type="rotate" values="360 50 50;0 50 50" keyTimes="0;1" dur="1.5s" repeatCount="indefinite" calcMode="spline" keySplines="0.5 0 0.5 1" begin="-0.15000000000000002s"></animateTransform><path fill="#fff1cf" stroke="#000" d="M91 33.6l-10 4c-.4-1.2-1.1-2.4-1.7-3.5-.2-.5.3-1.1.9-1 3.4-.2 7.2-.2 10.8.5z"></path><path fill="#fff1cf" stroke="#000" d="M83.2 36.7l10-4c-.6-1.7-1.5-3.3-2.3-4.9-.3-.7-1.2-.6-1.4.1-1.9 3.2-3.8 6.1-6.3 8.8z"></path><path fill="#ffc254" stroke="#000" d="M82.8 50.2c0-3.4-.5-6.8-1.5-10-.2-.8-.4-1.5-.3-2.3.1-.8.4-1.6.7-2.4.7-1.5 1.9-3.1 3.7-4 1.8-.9 3.7-1 5.6-.3.9.4 1.7 1 2.4 1.8s1.3 1.7 1.7 2.8c1.5 4.6 2.2 9.5 2.2 14.4"></path><path fill="#fff1cf" d="M86.4 50.3v-.9l-.1-.9-.1-1.9c0-.9.2-1.7.7-2.3.5-.7 1.3-1.2 2.3-1.4h.3c.9-.2 1.9 0 2.6.6.7.5 1.3 1.4 1.4 2.4l.2 2.2.1 1.1v1.1"></path><path d="M88.6 36.6c.1.3-.2.7-.6.8-.5.2-.9 0-1.1-.3-.1-.3.2-.7.6-.8.5-.2 1-.1 1.1.3z"></path><path fill="none" stroke="#000" d="M86 38.7c.2.6.8.9 1.4.7.6-.2.9-.9.6-2.1.3 1.2 1 1.7 1.6 1.5.6-.2.9-.8.8-1.4"></path><path fill="#ffc254" stroke="#000" d="M86.8 42.2l.4 2.2c.1.4.1.7.2 1.1l.1 1.1c.1 1.2-.9 2.3-2.2 2.3-1.3 0-2.5-.8-2.5-1.9l-.1-1c0-.3-.1-.6-.2-1l-.3-1.9M96.2 40.2l.5 2.7c.1.5.2.9.2 1.4l.1 1.4c.1 1.5-.9 2.8-2.2 2.8-1.3 0-2.5-1.1-2.6-2.4l-.1-1.2c0-.4-.1-.8-.2-1.2l-.4-2.5"></path><path fill="none" stroke="#000" d="M90.9 36.4c1.1-1.1 2.7-1.6 4.3-1.9M91.6 37.5c1.3-.5 2.8-.8 4.2-.7M91.7 38.8c.2-.1.4-.1.7-.1 1.2-.1 2.5 0 3.8.3M85 38.4c-1.6-.1-3.1.6-4.6 1.2M85 39.5c-1.4.3-2.8.9-4 1.6M85.5 40.4c-.2 0-.4.1-.7.2-1.1.5-2.2 1.1-3.2 1.8"></path><path fill="#ff7bac" d="M92.8 34.2c.1.3-.3.8-.9 1-.6.2-1.2.1-1.4-.2-.1-.3.3-.8.9-1 .7-.2 1.3-.1 1.4.2zM82.2 38.2c.1.3.7.3 1.3.1.6-.2 1-.6.9-.9-.1-.3-.7-.3-1.3-.1-.6.2-1.1.6-.9.9z"></path><path d="M90 35.7l-.7.3-.3-.7c-.3-.9.1-1.9.9-2.3l.7-.3.3.7c.4 1 0 2-.9 2.3zM85.3 37.4l.7-.2-.2-.6c-.3-.8-1.3-1.2-2.1-.8l-.8.2.2.6c.4.8 1.3 1.1 2.2.8z"></path></g></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.initMediaSource=t.nativeType=undefined;var r=n(6);var l=u(r);var i=n(3);var s=n(5);var a=n(2);var o=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var p=o.default.getLogger();var c=t.nativeType=function e(t){if(/.mpd([#?$])/i.exec(t)){return l.default.NativeDash}else if(/.flv([#?$])/i.exec(t)){return l.default.NativeFlv}else if(/.m3u8([#?$])/i.exec(t)){return l.default.NativeHls}else{return l.default.HtmlMediaElement}};var d=function e(l,a){var t=l.p2pEngine||null;p.debug("p2pEngine",t);var o={};o.droppedFrames=0;o.totalFrames=0;o.p2pSupport=false;var u={url:"",t0:(0,s.performance)(),load:[],buffer:[],video:[],level:[],bitrate:[]};var c=0;var d=0;var f=0;var v=0;if(t!==null&&t!==undefined){p.info("p2pEngine loaded");t.on("stats",function(e){o.p2pSupport=true;p.debug("p2pEngine.on('stats')",e);o.totalHTTPDownloaded=e.totalHTTPDownloaded;o.totalP2PDownloaded=e.totalP2PDownloaded;o.totalP2PUploaded=e.totalP2PUploaded;a.dispatch(i.EVENTS.P2P_STATS,o)})}l.on(Hls.Events.MANIFEST_PARSED,function(e,t){p.info("manifest loaded, found "+t.levels.length+" quality level");o.levelNb=t.levels.length;o.levelParsed=0});l.on(Hls.Events.BUFFER_CODECS,function(e,t){o.codec=t&&t.video.container+";codecs="+t.video.codec+'"'});l.on(Hls.Events.LEVEL_LOADED,function(e,t){var n={type:"level",id:t.level,start:t.details.startSN,end:t.details.endSN,time:t.stats.trequest-u.t0,latency:t.stats.tfirst-t.stats.trequest,load:t.stats.tload-t.stats.tfirst,parsing:t.stats.tparsed-t.stats.tload,duration:t.stats.tload-t.stats.tfirst};var r=t.stats.tparsed-t.stats.tload;o.sumLevelParsingMs=o.levelParsed?o.sumLevelParsingMs+r:r;o.levelParsed++;o.levelParsingUs=Math.round(1e3*o.sumLevelParsingMs/o.levelParsed);u.load.push(n);a.dispatch(i.EVENTS.READY)});l.on(Hls.Events.FRAG_BUFFERED,function(e,t){var n={type:t.frag.type+" fragment",id:t.frag.level,id2:t.frag.sn,time:t.stats.trequest-u.t0,latency:t.stats.tfirst-t.stats.trequest,load:t.stats.tload-t.stats.tfirst,parsing:t.stats.tparsed-t.stats.tload,buffer:t.stats.tbuffered-t.stats.tparsed,duration:t.stats.tbuffered-t.stats.tfirst,bw:Math.round(8*t.stats.total/(t.stats.tbuffered-t.stats.trequest)),size:t.stats.total};u.load.push(n);u.bitrate.push({time:window.performance.now()-u.t0,bitrate:e.bw,duration:t.frag.duration,level:e.id});if(l.bufferTimer===undefined){u.buffer.push({time:0,buffer:0,pos:0})}var r=t.stats.tfirst-t.stats.trequest;var a=t.stats.tparsed-t.stats.tload;var i=t.stats.tbuffered-t.stats.trequest;var s=Math.round(8*t.stats.total/(t.stats.tbuffered-t.stats.tfirst));if(o.fragBuffered){o.fragMinLatency=Math.min(o.fragMinLatency,r);o.fragMaxLatency=Math.max(o.fragMaxLatency,r);o.fragMinProcess=Math.min(o.fragMinProcess,i);o.fragMaxProcess=Math.max(o.fragMaxProcess,i);o.fragMinKbps=Math.min(o.fragMinKbps,s);o.fragMaxKbps=Math.max(o.fragMaxKbps,s);o.autoLevelCappingMin=Math.min(o.autoLevelCappingMin,l.autoLevelCapping);o.autoLevelCappingMax=Math.max(o.autoLevelCappingMax,l.autoLevelCapping);o.fragBuffered++}else{o.fragMinLatency=o.fragMaxLatency=r;o.fragMinProcess=o.fragMaxProcess=i;o.fragMinKbps=o.fragMaxKbps=s;o.fragBuffered=1;o.fragBufferedBytes=0;o.autoLevelCappingMin=o.autoLevelCappingMax=l.autoLevelCapping;c=0;d=0;f=0;v=0}o.fraglastLatency=r;c+=r;o.fragAvgLatency=Math.round(c/o.fragBuffered);o.fragLastProcess=i;f+=i;v+=a;o.fragAvgProcess=Math.round(f/o.fragBuffered);o.fragLastKbps=s;d+=s;o.fragAvgKbps=Math.round(d/o.fragBuffered);o.fragBufferedBytes+=t.stats.total;o.fragparsingKbps=Math.round(8*o.fragBufferedBytes/v);o.fragparsingMs=Math.round(v);o.autoLevelCappingLast=l.autoLevelCapping});l.on(Hls.Events.FRAG_LOADING,function(e,t){p.debug('Hls Event "'+e+'"',t)});l.on(Hls.Events.FRAG_PARSED,function(e,t){p.info("FRAG_PARSED",t);o.droppedFrames+=t.frag.dropped;o.totalFrames+=parseInt(parseFloat(t.frag.duration)*24);a.dispatch(i.EVENTS.STATS,o);a.dispatch(i.EVENTS.P2P_STATS,{p2pSupport:o.p2pSupport})})};var f=t.initMediaSource=function e(t,n,r,a){if(r===null||r===undefined||r===""){return false}switch(n){case l.default.NativeDash:if(dashjs&&MediaPlayer){MediaPlayer().initialize(t,r,false)}break;case l.default.NativeFlv:if(flv&&flv.isSupported()){var i=flv.createPlayer({type:"flv",url:r});i.attachMediaElement(t);i.load()}break;case l.default.NativeHls:if(Hls&&Hls.isSupported()){var s=new Hls;s.loadSource(r);s.attachMedia(t);d(s,a)}break;case l.default.HtmlMediaElement:default:t.src=r;break}t.currentTime=0;p.info("init media type",n);return true}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var i=n(5);var a=n(2);var s=f(a);var l=n(4);var o=f(l);var u=n(8);var c=f(u);var d=n(3);function f(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var p=s.default.getLogger();var h=function(){function n(e){var t=this;v(this,n);this.player=e;this.element=e.element;this.video=e.video;this.autoHideControls=0;this.status=c.default.LOADING;this.speed=1;this.isShow=false;this.mirror=false;this.hotkey=false;this.events=[];this.initButton();this.initLoadBar();this.initPlayTimer();this.initVolumeBar();this.initSettingGroup();this.initWaitingWarp();this._maskClick();this.eventFunc=function(){for(var e=0;e<t.events.length;e++){t.events[e]()}};this.element.addEventListener("mousemove",function(){t.autoHide()});p.debug("Controller inited")}r(n,[{key:"initButton",value:function e(){var t=this;this.button={};this.button.play=this.element.querySelector(".button-play");this.button.volume=this.element.querySelector(".button-volume");this.button.setting=this.element.querySelector(".button-settings-checkbox");this.button.nextPlay=this.element.querySelector(".button-next");var n=function e(){t.player.pause();t.status=c.default.PAUSE;t.video.removeEventListener("timeupdate",t.eventFunc);t.video.removeEventListener("ended",e);t.player.event.dispatch(d.EVENTS.ENDED)};this.play=function(){p.info("Play Status: "+t.status);if(t.status===c.default.PLAY){t.player.pause()}else{t.player.play()}};this.listener=function(){t.video.addEventListener("timeupdate",t.eventFunc);t.video.addEventListener("ended",n);t.status=c.default.PLAY;t.player.showStats(c.default.PLAY);t.button.play.innerHTML=o.default.pause;t.autoHide()};this.removeListener=function(){t.video.removeEventListener("timeupdate",t.eventFunc);t.video.removeEventListener("ended",n);t.status=c.default.PAUSE;t.player.showStats(c.default.PAUSE);t.button.play.innerHTML=o.default.play};this.next=function(){p.info("Next video: "+t.player.source2);if(t.player.source2!==null){t.player.next()}};this.button.nextPlay.addEventListener("click",function(){return t.next()});this.button.play.addEventListener("click",function(){return t.play()});this.button.volume.addEventListener("click",function(){if(t.video.muted){t.setVolume(t.video.volume*100)}else{t.setVolume(0)}})}},{key:"initLoadBar",value:function e(){var a=this;this.bar={};this.bar.load=this.element.querySelector(".control-bar");this.bar.loaded=this.bar.load.querySelector(".load-bar .loaded");this.bar.played=this.bar.load.querySelector(".load-bar .played");this.bar.hover=this.bar.load.querySelector(".hover");this.bar.timerLabel=this.bar.load.querySelector(".seek-timer-label");var n=function e(t){a.element.removeEventListener("mousemove",r);a.element.removeEventListener("mouseup",e)};var t=function e(t){a.element.addEventListener("mousemove",r);a.element.addEventListener("mouseup",n);t.preventDefault();return false};var r=function e(t){if(!a.video.duration||a.video.duration<=0)return;var n=(t.clientX-a.bar.load.getBoundingClientRect().left)/a.bar.load.offsetWidth;n=n>0?n:0;n=n<1?n:1;a.bar.played.style.width=(n*100).toFixed(2)+"%";a.player.seek(n*a.video.duration)};this.bar.played.addEventListener("mousedown",t);this.bar.load.addEventListener("mousedown",function(e){var t=e.offsetX;var n=e.target;while(n!==a.bar.load){t+=n.offsetLeft;n=n.parentNode}var r=t/a.bar.load.offsetWidth;r=r>0?r:0;r=r<1?r:1;a.bar.played.style.width=(r*100).toFixed(2)+"%";a.player.seek(parseFloat(r)*a.video.duration);e.preventDefault();return false});this.bar.load.addEventListener("mousemove",function(e){if(!a.video.duration||a.video.duration<=0)return;var t=(e.clientX-a.bar.load.getBoundingClientRect().left)/a.bar.load.offsetWidth;t=t>0?t:0;t=t<1?t:1;var n=(0,i.formatTime)(parseFloat(t)*a.video.duration);a.bar.timerLabel.style.left=t*100+"%";a.bar.timerLabel.innerText=n;a.bar.hover.style.width=t*100+"%"});this.updateLoadBar=function(){var e=a.video.currentTime/a.video.duration;var t=a.video.buffered.length?a.video.buffered.end(a.video.buffered.length-1)/a.video.duration:0;var n=(e*100).toFixed(2)+"%";var r=(t*100).toFixed(2)+"%";a.bar.loaded.style.width=r;a.bar.played.style.width=n};this.events.push(this.updateLoadBar)}},{key:"initVolumeBar",value:function e(){var a=this;this.volumeBar={};this.volumeBar.bar=this.element.querySelector(".volume-bar");this.volumeBar.inner=this.element.querySelector(".volume-bar-inner");this.volumeBar.min=this.volumeBar.bar.offsetLeft;this.volumeBar.max=this.volumeBar.min+this.volumeBar.offsetWidth;this.setVolume=function(e){e=e>100?100:e;e=e<0?0:e;e=parseInt(e);p.debug("Volume change to "+e);if(parseInt(e)===0){a.video.muted=true;a.button.volume.innerHTML=o.default.mute;a.volumeBar.inner.style.width="0%"}else{a.video.muted=false;a.video.volume=(e/100).toFixed(2);a.volumeBar.inner.style.width=e+"%";if(e>0&&e<50){a.button.volume.innerHTML=o.default.volume1}else{a.button.volume.innerHTML=o.default.volume2}}a.player.volume=e;a.player.notice.showAutoHide("音量 "+e);a.player.infoPanel.setVolumeText(e)};this.getVolume=function(){return a.video.volume};var n=function e(t){var n=a.volumeBar.bar.getBoundingClientRect().left;var r=(t.clientX-n)/a.volumeBar.bar.offsetWidth*100;a.setVolume(r)};var t=function e(t){n(t);a.element.addEventListener("mousemove",r);a.element.addEventListener("mouseup",i);t.preventDefault();t.stopPropagation();return false};var r=function e(t){n(t)};var i=function e(t){a.element.removeEventListener("mousemove",r);a.element.removeEventListener("mouseup",e)};this.volumeBar.inner.addEventListener("mousedown",t);this.volumeBar.bar.addEventListener("mousedown",function(e){n(e)})}},{key:"initPlayTimer",value:function e(){var t=this;this.timer={};this.timer.current=this.element.querySelector(".play-time .play-current");this.timer.duration=this.element.querySelector(".play-time .play-duration");this.updateTimer=function(){t.timer.current.innerText=(0,i.formatTime)(t.video.currentTime);t.timer.duration.innerText=(0,i.formatTime)(t.video.duration)};this.events.push(this.updateTimer)}},{key:"initSettingGroup",value:function e(){var n=this;var t=this;this.settings={};var r=this.element.querySelector(".setting-group");this.playSpeedBox=this.element.querySelector(".play-speed-box");this.settings.playSpeed=r.querySelector(".play-speed");this.settings.playSpeedText=r.querySelector(".play-speed .text");this.settings.mirror=r.querySelector(".mirror");this.settings.hotkey=r.querySelector(".hotkey");this.settings.loop=r.querySelector(".loop");var a=function e(t){var n=t.getElementsByTagName("li");for(var r=0;r<n.length;r++){n[r].classList.remove("active")}};this.settings.playSpeed.addEventListener("click",function(e){r.classList.add("hidden");n.playSpeedBox.classList.remove("hidden")});this.playSpeedBox.addEventListener("click",function(e){var t=e.target||e.srcElement;if(t.tagName.toLowerCase()==="li"){if(t.dataset.spd!=null){n.player.playbackRate(t.dataset.spd);a(n.playSpeedBox);t.classList.add("active")}}n.playSpeedBox.classList.add("hidden");r.classList.remove("hidden")});this.settings.mirror.addEventListener("click",t._mirror.bind(t),false);this.settings.loop.addEventListener("click",t._loop.bind(t),false);this.bindHotKeyFunc=t._bindHotKey.bind(t);this.settings.hotkey.addEventListener("click",function(e){t._hotKey()});t._hotKey()}},{key:"initWaitingWarp",value:function e(){var t=this;var n=this.player,r=n.element,a=n.video;this.waitingId=0;var i=function e(){r.classList.remove("player-waiting");clearInterval(t.waitingId)};var s=function e(){t.player.event.dispatch(d.EVENTS.READY);i()};this.player.video.addEventListener("waiting",function(){r.classList.add("player-waiting");p.debug("Video Loading..");t.waitingId=setInterval(function(){if(a.readyState>3){i()}},300)});a.addEventListener("canplay",s)}},{key:"autoHide",value:function e(){var t=this;this.autoHideFunc=function(){t.show();clearTimeout(t.autoHideControls);t.autoHideControls=setTimeout(function(){if(t.video.played.length&&t.status!==c.default.PAUSE){t.hide()}},3e3)};(0,i.requestAnimationFrame)(this.autoHideFunc)}},{key:"show",value:function e(){this.isShow=true;this.player.element.classList.remove("player-hide-control");document.body.style.cursor="auto"}},{key:"hide",value:function e(){this.isShow=false;this.player.element.classList.add("player-hide-control");this.button.setting.checked=false;if(this.player.screen.mode>0){document.body.style.cursor="none"}}},{key:"_mirror",value:function e(){if(this.mirror){this.video.style.transform="scaleX(1)";this.settings.mirror.querySelector(".text").innerText="关";this.player.notice.showAutoHide("镜像 关")}else{this.video.style.transform="scaleX(-1)";this.settings.mirror.querySelector(".text").innerText="开";this.player.notice.showAutoHide("镜像 开")}this.mirror=!this.mirror}},{key:"_loop",value:function e(){if(this.video.loop){this.video.loop=false;this.settings.loop.querySelector(".text").innerText="关闭";this.player.notice.showAutoHide("循环播放 关")}else{this.video.loop=true;this.settings.loop.querySelector(".text").innerText="开启";this.player.notice.showAutoHide("循环播放 开")}}},{key:"_hotKey",value:function e(){var t=this.hotkey,n=this.settings,r=this.player.notice;if(t){n.hotkey.querySelector(".text").innerText="关闭";document.removeEventListener("keydown",this.bindHotKeyFunc);r.showAutoHide("全局热键 关");p.debug("Hotkey disable")}else{n.hotkey.querySelector(".text").innerText="开启";document.addEventListener("keydown",this.bindHotKeyFunc);r.showAutoHide("全局热键 开");p.debug("Hotkey enable")}this.hotkey=!t}},{key:"_bindHotKey",value:function e(t){console.log("event",t);t.stopPropagation();t.preventDefault();switch(t.keyCode){case 123:console.log("...link start!");return false;case 37:case 74:this.player.seek(this.player.seek()-5);break;case 39:case 76:this.player.seek(this.player.seek()+5);break;case 38:this.player.setVolume(this.player.volume+5);break;case 40:this.player.setVolume(this.player.volume-5);break;case 75:case 32:this.play();break}}},{key:"_maskClick",value:function e(){var t=this;p.debug("addEventListener video click -> play()");var n=this;this.player.video.addEventListener("click",function(){if(!n.player.menu.isShow&&n.isShow){t.play()}})}},{key:"resetLoadBar",value:function e(){var t=this.bar.played;t.style.width="0%"}},{key:"destroy",value:function e(){document.removeEventListener("keyup",this.bindHotKeyFunc);this.removeListener();clearTimeout(this.autoHideControls);clearInterval(this.waitingId);(0,i.cancelAnimationFrame)(this.autoHideFunc)}}]);return n}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var a=n(8);var i=o(a);var s=n(4);var l=o(s);function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function t(e){u(this,t);this.player=e;this.element=this.player.element.querySelector(".video-notice");this.element.style.display="none";this.element.style.opacity=0;this.textEl=this.element.querySelector("span");this.textEl.innerText="";this.stats=this.player.element.querySelector(".video-stats");this.statsIv=0;this.iv=0}r(t,[{key:"showAutoHide",value:function e(t){var n=this;clearTimeout(this.iv);this.show(t);this.iv=setTimeout(function(){n.hide()},1500)}},{key:"show",value:function e(t){this.textEl.innerHTML=t;this.element.style.display="block";this.element.style.opacity=1}},{key:"hide",value:function e(){this.element.style.display="block";this.element.style.opacity=0}},{key:"trigger",value:function e(){}},{key:"showStats",value:function e(t){var n=this;clearTimeout(this.statsIv);switch(t){case i.default.PAUSE:this.stats.innerHTML=l.default.pause;break;case i.default.PLAY:this.stats.innerHTML=l.default.play;break;case i.default.STOP:this.stats.innerHTML=l.default.pause;break}this.stats.classList.add("show");this.statsIv=setTimeout(function(){n.stats.classList.remove("show")},460)}},{key:"destroy",value:function e(){clearTimeout(this.iv);clearTimeout(this.statsIv)}}]);return t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FULL_MODE=undefined;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var a=n(2);var i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=t.FULL_MODE={NONE:0,WEB:1,SCREEN:2};var u=i.default.getLogger();var c=function(){function n(e){var t=this;l(this,n);this.player=e;this.SCREEN_DIRECTION={primary:"landscape-primary",secondary:"landscape-secondary"};this.setMode(o.NONE);this.element={};this.element.name={};this.element.name.web="player-web-full";this.element.name.screen="player-screen-full";this.element.fullScreen=this.player.element.querySelector(".button-full-screen");this.element.fullWebScreen=this.player.element.querySelector(".button-web-full-screen");this.element.fullScreen.addEventListener("click",function(){t.screenFull()});this.element.fullWebScreen.addEventListener("click",function(){t.webFull()});u.debug("Player Screen Mode:"+this.isInFullScreenMode())}r(n,[{key:"isInFullScreenMode",value:function e(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||this.player.element.fullScreen||this.player.element.mozFullScreen||this.player.element.webkitIsFullScreen||this.player.element.msFullscreenElement}},{key:"webFull",value:function e(){u.debug("Player Screen Mode:"+this.isInFullScreenMode());if(this.mode!==o.WEB){this.player.element.classList.add(this.element.name.web);this.player.element.classList.remove(this.element.name.screen);document.body.style.overflow="hidden";this.setMode(o.WEB)}else{this.player.element.classList.remove(this.element.name.web);this.player.element.classList.remove(this.element.name.screen);document.body.style.overflow="auto";this.setMode(o.NONE)}this.player.infoPanel.trigger();this.player.events.trigger("fullscreen",this.getMode())}},{key:"screenFull",value:function e(){u.debug("Player Screen Mode:"+this.isInFullScreenMode());this.player.element.classList.remove(this.element.name.screen);this.player.element.classList.remove(this.element.name.web);if(this.mode!==o.SCREEN&&!this.isInFullScreenMode()){u.debug("InMode"+o.SCREEN);if(this.player.element.requestFullscreen){this.player.element.requestFullscreen()}else if(this.player.element.mozRequestFullScreen){this.player.element.mozRequestFullScreen()}else if(this.player.element.webkitRequestFullscreen){this.player.element.webkitRequestFullscreen()}else if(this.player.element.msRequestFullscreen){this.player.element.msRequestFullscreen()}if(this.player.options.mobile){window.screen.orientation.lock(this.SCREEN_DIRECTION.primary)}this.player.element.style.width="100%";this.player.element.style.height="100%";this.player.element.classList.add(this.element.name.screen);this.setMode(o.SCREEN)}else{u.debug("Exit Screen Mode"+o.NONE);this.setMode(o.NONE);this.exitScreenFull()}this.player.events.trigger("fullscreen",this.getMode())}},{key:"exitScreenFull",value:function e(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}if(this.player.options.mobile){window.screen.orientation.unlock()}this.player.element.style.width="";this.player.element.style.height="";this.player.element.classList.remove(this.element.name.screen);u.debug("Exit ScreenFull Mode")}},{key:"getMode",value:function e(){return this.mode}},{key:"setMode",value:function e(t){this.mode=t;if(t!==o.SCREEN&&this.isInFullScreenMode()){this.exitScreenFull()}}},{key:"destroy",value:function e(){this.exitScreenFull()}}]);return n}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();var a=n(2);var i=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=i.default.getLogger();var u=function(){function a(e){var t=this;l(this,a);var n=e.element,r=e.options.type;this.element=n;this.panel=n.querySelector(".info-panel");this.events={};this.events.droppedFrames=this.panel.querySelector(".dropped-frames");this.events.connectionSpeed=this.panel.querySelector(".connection-speed");this.events.p2pSpeed=this.panel.querySelector(".p2p-speed");this.events.viewport=this.panel.querySelector(".viewport");this.events.volume=this.panel.querySelector(".volume");this.events.videoId=this.panel.querySelector(".vid");this.events.host=this.panel.querySelector(".host");this.events.playerMode=this.panel.querySelector(".player-mode");this.events.codecs=this.panel.querySelector(".codecs");this.isShow=false;this.panel.querySelector(".close").addEventListener("click",function(e){e.preventDefault();t.close()});this.events.playerMode.innerText=r;this.dict=[{x:0,y:14},{x:180,y:14}]}r(a,[{key:"open",value:function e(){this.isShow=true;this.panel.style.display="block"}},{key:"close",value:function e(){this.isShow=false;this.panel.style.display="none"}},{key:"setVolumeText",value:function e(t){this.events.volume.innerText=t}},{key:"setVideoId",value:function e(t){this.events.videoId.innerText=t}},{key:"setSourceHost",value:function e(t){this.events.host.innerText=t}},{key:"trigger",value:function e(t){var n=this.element,r=this.events;o.info("stats",t);if(t){r.droppedFrames.innerText=t.droppedFrames+"/"+t.totalFrames;r.connectionSpeed.innerText=(t.fragLastKbps/8).toFixed(2)+"Kb/s";r.codecs.innerText=t.codec}r.viewport.innerText=n.offsetWidth+"x"+n.offsetHeight}},{key:"triggerP2P",value:function e(t){var n=this.events;o.info("p2p stats",t);if(t.p2pSupport){var r=t.totalP2PDownloaded||0;var a=t.totalP2PUploaded||0;n.p2pSpeed.innerText="Down:"+(r+"KB/s")+" / UP:"+(a+"KB/s")}else{n.p2pSpeed.innerText="DISABLED"}}},{key:"connectionSpeedLine",value:function e(){}},{key:"destroy",value:function e(){this.events=null;this.panel=null;this.isShow=null}}]);return a}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(e,t,n){if(t)r(e.prototype,t);if(n)r(e,n);return e}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var r=function(){function r(e){var t=this;i(this,r);this.isShow=false;var n=e.element.querySelector(".context-menu");this.ul=n.querySelector("ul");this.ul.innerHTML="";this.init(this.ul,e.menus);e.element.oncontextmenu=function(e){e.preventDefault();n.style.left=e.offsetX+"px";n.style.top=e.offsetY+"px";n.style.display="block";t.isShow=true};e.element.onclick=function(e){n.style.display="none";t.isShow=false}}a(r,[{key:"init",value:function e(t,n){var r=true;var a=false;var i=undefined;try{for(var s=n[Symbol.iterator](),l;!(r=(l=s.next()).done);r=true){var o=l.value;var u=document.createElement("li");u.innerText=o.name;o.class&&u.classList.add(o.class);u.addEventListener("click",o.func);t.appendChild(u)}}catch(e){a=true;i=e}finally{try{if(!r&&s.return){s.return()}}finally{if(a){throw i}}}}},{key:"destroy",value:function e(){this.ul=null}}]);return r}();t.default=r},function(e,t){}])["default"]});
//# sourceMappingURL=Ayaya.js.map